<html lang="en">
<head>
<title>Custom Command-line Options - MIT/GNU Scheme 9.0</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="MIT/GNU Scheme 9.0">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="Running-Scheme.html#Running-Scheme" title="Running Scheme">
<link rel="prev" href="Command_002dLine-Options.html#Command_002dLine-Options" title="Command-Line Options">
<link rel="next" href="Environment-Variables.html#Environment-Variables" title="Environment Variables">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
This manual documents the use of MIT/GNU Scheme 9.0.

Copyright (C) 1986, 1987, 1988, 1989, 1990, 1991, 1992, 1993,
    1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004,
    2005, 2006, 2007, 2008, 2009, 2010 Massachusetts Institute of
    Technology

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.2 or any later version published by the Free Software
     Foundation; with no Invariant Sections, with the Front-Cover Texts
     being ``A GNU Manual,'' and with the Back-Cover Texts as in (a)
     below.  A copy of the license is included in the section entitled
     ``GNU Free Documentation License.''

     (a) The FSF's Back-Cover Text is: ``You have freedom to copy and
     modify this GNU Manual, like GNU software.  Copies published by
     the Free Software Foundation raise funds for GNU development.''
   -->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<a name="Custom-Command-line-Options"></a>
<a name="Custom-Command_002dline-Options"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="Environment-Variables.html#Environment-Variables">Environment Variables</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="Command_002dLine-Options.html#Command_002dLine-Options">Command-Line Options</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Running-Scheme.html#Running-Scheme">Running Scheme</a>
<hr>
</div>

<h3 class="section">2.5 Custom Command-line Options</h3>

<p>MIT/GNU Scheme provides a mechanism for you to define your own
command-line options.  This is done by registering handlers to identify
particular named options and to process them when Scheme starts. 
Unfortunately, because of the way this mechanism is implemented, you
must define the options and then save a world image containing your
definitions (see <a href="World-Images.html#World-Images">World Images</a>).  Later, when you start Scheme using
that world image, your options will be recognized.

   <p>The following procedures define command-line parsers.  In each, the
argument <var>keyword</var> defines the option that will be recognized on the
command line.  The <var>keyword</var> must be a string containing at least
one character; do not include the leading hyphens.

<div class="defun">
&mdash; procedure: <b>simple-command-line-parser</b><var> keyword thunk </var>[<var>help</var>]<var><a name="index-simple_002dcommand_002dline_002dparser-45"></a></var><br>
<blockquote><p>Defines <var>keyword</var> to be a simple command-line option.  When this
keyword is seen on the command line, it causes <var>thunk</var> to be
executed.  <var>Help</var>, when provided, should be a string describing
the option in the <samp><span class="command">--help</span></samp> output. 
</p></blockquote></div>

<div class="defun">
&mdash; procedure: <b>argument-command-line-parser</b><var> keyword multiple? procedure </var>[<var>help</var>]<var><a name="index-argument_002dcommand_002dline_002dparser-46"></a></var><br>
<blockquote><p>Defines <var>keyword</var> to be a command-line option that is followed by
one or more command-line arguments.  <var>Procedure</var> is a procedure that
accepts one argument; when <var>keyword</var> is seen, it is called once for
each argument.  <var>Help</var>, when provided, should be a string
describing the option.  It is included in the <samp><span class="command">--help</span></samp> output. 
When not provided, <samp><span class="command">--help</span></samp> will say something lame about your
command line option.

        <p><var>Multiple?</var>, if true, says that <var>keyword</var> may be followed by
more than one argument on the command line.  In this case, procedure is
called once for each argument that follows <var>keyword</var> and does not
start with a hyphen.  If <var>multiple?</var> is <code>#f</code>, <var>procedure</var>
is called once, with the command-line argument following <var>keyword</var>. 
In this case, it does not matter if the following argument starts with a
hyphen. 
</p></blockquote></div>

<div class="defun">
&mdash; procedure: <b>set-command-line-parser!</b><var> keyword procedure<a name="index-set_002dcommand_002dline_002dparser_0021-47"></a></var><br>
<blockquote><p>This low-level procedure defines <var>keyword</var> to be a command-line
option that is defined by <var>procedure</var>.  When <var>keyword</var> is seen,
<var>procedure</var> is called with all of the command-line arguments,
starting with <var>keyword</var>, as a single list argument.  <var>Procedure</var>
must return two values (using the <code>values</code> procedure): the unused
command-line arguments (as a list), and a thunk that is executed to
implement the behavior of the option. 
</p></blockquote></div>

   </body></html>

