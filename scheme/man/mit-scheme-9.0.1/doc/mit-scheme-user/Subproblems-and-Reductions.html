<html lang="en">
<head>
<title>Subproblems and Reductions - MIT/GNU Scheme 9.0</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="MIT/GNU Scheme 9.0">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="Debugging.html#Debugging" title="Debugging">
<link rel="prev" href="Debugging.html#Debugging" title="Debugging">
<link rel="next" href="Command_002dLine-Debugger.html#Command_002dLine-Debugger" title="Command-Line Debugger">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
This manual documents the use of MIT/GNU Scheme 9.0.

Copyright (C) 1986, 1987, 1988, 1989, 1990, 1991, 1992, 1993,
    1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004,
    2005, 2006, 2007, 2008, 2009, 2010 Massachusetts Institute of
    Technology

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.2 or any later version published by the Free Software
     Foundation; with no Invariant Sections, with the Front-Cover Texts
     being ``A GNU Manual,'' and with the Back-Cover Texts as in (a)
     below.  A copy of the license is included in the section entitled
     ``GNU Free Documentation License.''

     (a) The FSF's Back-Cover Text is: ``You have freedom to copy and
     modify this GNU Manual, like GNU software.  Copies published by
     the Free Software Foundation raise funds for GNU development.''
   -->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<a name="Subproblems-and-Reductions"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="Command_002dLine-Debugger.html#Command_002dLine-Debugger">Command-Line Debugger</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="Debugging.html#Debugging">Debugging</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Debugging.html#Debugging">Debugging</a>
<hr>
</div>

<h3 class="section">5.1 Subproblems and Reductions</h3>

<p><a name="index-subproblem-176"></a><a name="index-reduction-177"></a><a name="index-subexpression-178"></a>Understanding the concepts of <dfn>reduction</dfn> and <dfn>subproblem</dfn> is
essential to good use of the debugging tools.  The Scheme interpreter
evaluates an expression by <dfn>reducing</dfn> it to a simpler expression. 
In general, Scheme's evaluation rules designate that evaluation proceeds
from one expression to the next by either starting to work on a
<dfn>subexpression</dfn> of the given expression, or by reducing the entire
expression to a new (simpler, or reduced) form.  Thus, a history of the
successive forms processed during the evaluation of an expression will
show a sequence of subproblems, where each subproblem may consist of a
sequence of reductions.

   <p>For example, both &lsquo;<samp><span class="samp">(+ 5 6)</span></samp>&rsquo; and &lsquo;<samp><span class="samp">(+ 7 9)</span></samp>&rsquo; are subproblems of
the following combination:

<pre class="example">     (* (+ 5 6) (+ 7 9))
</pre>
   <p class="noindent">If &lsquo;<samp><span class="samp">(prime? n)</span></samp>&rsquo; is true, then &lsquo;<samp><span class="samp">(cons 'prime n)</span></samp>&rsquo; is a reduction
for the following expression:

<pre class="example">     (if (prime? n)
         (cons 'prime n)
         (cons 'not-prime n))
</pre>
   <p>This is because the entire subproblem of the <code>if</code> expression can
be reduced to the problem &lsquo;<samp><span class="samp">(cons 'prime n)</span></samp>&rsquo;, once we know that
&lsquo;<samp><span class="samp">(prime? n)</span></samp>&rsquo; is true; the &lsquo;<samp><span class="samp">(cons 'not-prime n)</span></samp>&rsquo; can be
ignored, because it will never be needed.  On the other hand, if
&lsquo;<samp><span class="samp">(prime? n)</span></samp>&rsquo; were false, then &lsquo;<samp><span class="samp">(cons 'not-prime n)</span></samp>&rsquo; would be
the reduction for the <code>if</code> expression.

   <p>The <em>subproblem level</em> is a number representing how far back in the
history of the current computation a particular evaluation is.  Consider
<code>factorial</code>:

<pre class="example">     (define (factorial n)
       (if (&lt; n 2)
           1
           (* n (factorial (- n 1)))))
</pre>
   <p class="noindent">If we stop <code>factorial</code> in the middle of evaluating &lsquo;<samp><span class="samp">(- n 1)</span></samp>&rsquo;,
the &lsquo;<samp><span class="samp">(- n 1)</span></samp>&rsquo; is at subproblem level 0.  Following the history of
the computation &ldquo;upwards,&rdquo; &lsquo;<samp><span class="samp">(factorial (- n 1))</span></samp>&rsquo; is at subproblem
level 1, and &lsquo;<samp><span class="samp">(* n (factorial (- n 1)))</span></samp>&rsquo; is at subproblem level 2. 
These expressions all have <em>reduction number</em> 0.  Continuing
upwards, the <code>if</code> expression has reduction number 1.

   <p>Moving backwards in the history of a computation, subproblem levels and
reduction numbers increase, starting from zero at the expression
currently being evaluated.  Reduction numbers increase until the next
subproblem, where they start over at zero.  The best way to get a feel
for subproblem levels and reduction numbers is to experiment with the
debugging tools, especially <code>debug</code>.

   </body></html>

