<html lang="en">
<head>
<title>Quoting - MIT/GNU Scheme 9.0.1</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="MIT/GNU Scheme 9.0.1">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="Special-Forms.html#Special-Forms" title="Special Forms">
<link rel="prev" href="Assignments.html#Assignments" title="Assignments">
<link rel="next" href="Conditionals.html#Conditionals" title="Conditionals">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
This manual documents MIT/GNU Scheme 9.0.1.

Copyright (C) 1986, 1987, 1988, 1989, 1990, 1991, 1992, 1993,
    1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004,
    2005, 2006, 2007, 2008, 2009, 2010 Massachusetts Institute of
    Technology

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.2 or any later version published by the Free Software
     Foundation; with no Invariant Sections, with the Front-Cover Texts
     being ``A GNU Manual,'' and with the Back-Cover Texts as in (a)
     below.  A copy of the license is included in the section entitled
     ``GNU Free Documentation License.''

     (a) The FSF's Back-Cover Text is: ``You have freedom to copy and
     modify this GNU Manual, like GNU software.  Copies published by
     the Free Software Foundation raise funds for GNU development.''
   -->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<a name="Quoting"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="Conditionals.html#Conditionals">Conditionals</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="Assignments.html#Assignments">Assignments</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Special-Forms.html#Special-Forms">Special Forms</a>
<hr>
</div>

<h3 class="section">2.6 Quoting</h3>

<p><a name="index-quoting-274"></a>
This section describes the expressions that are used to modify or
prevent the evaluation of objects.

<div class="defun">
&mdash; special form: <b>quote</b><var> datum<a name="index-quote-275"></a></var><br>
<blockquote><p><a name="index-external-representation_002c-and-quote-276"></a><a name="index-literal_002c-and-quote-277"></a><a name="index-constant_002c-and-quote-278"></a><code>(quote </code><var>datum</var><code>)</code> evaluates to <var>datum</var>.  <var>Datum</var> may be
any external representation of a Scheme object
(see <a href="External-Representations.html#External-Representations">External Representations</a>). 
Use <code>quote</code> to include literal constants in
Scheme code.

     <pre class="example">          (quote a)                               &rArr;  a
          (quote #(a b c))                        &rArr;  #(a b c)
          (quote (+ 1 2))                         &rArr;  (+ 1 2)
</pre>
        <p><a name="index-g_t_0027-as-external-representation-279"></a><a name="index-apostrophe_002c-as-external-representation-280"></a><a name="index-quote_002c-as-external-representation-281"></a><a name="index-g_t_0027-282"></a><code>(quote </code><var>datum</var><code>)</code> may be abbreviated as <code>'</code><var>datum</var>. 
The two notations are equivalent in all respects.

     <pre class="example">          'a                                      &rArr;  a
          '#(a b c)                               &rArr;  #(a b c)
          '(+ 1 2)                                &rArr;  (+ 1 2)
          '(quote a)                              &rArr;  (quote a)
          ''a                                     &rArr;  (quote a)
</pre>
        <p>Numeric constants, string constants, character constants, and boolean
constants evaluate to themselves, so they don't need to be quoted.

     <pre class="example">          '"abc"                                  &rArr;  "abc"
          "abc"                                   &rArr;  "abc"
          '145932                                 &rArr;  145932
          145932                                  &rArr;  145932
          '#t                                     &rArr;  #t
          #t                                      &rArr;  #t
          '#\a                                    &rArr;  #\a
          #\a                                     &rArr;  #\a
</pre>
        </blockquote></div>

<div class="defun">
&mdash; special form: <b>quasiquote</b><var> template<a name="index-quasiquote-283"></a></var><br>
<blockquote><p><a name="index-external-representation_002c-and-quasiquote-284"></a><a name="index-literal_002c-and-quasiquote-285"></a><a name="index-constant_002c-and-quasiquote-286"></a><a name="index-equal_003f-287"></a>&ldquo;Backquote&rdquo; or &ldquo;quasiquote&rdquo; expressions are useful for constructing
a list or vector structure when most but not all of the desired
structure is known in advance.  If no commas appear within the
<var>template</var>, the result of evaluating <code>`</code><var>template</var> is
equivalent (in the sense of <code>equal?</code>) to the result of evaluating
<code>'</code><var>template</var>.  If a comma appears within the <var>template</var>,
however, the expression following the comma is evaluated (&ldquo;unquoted&rdquo;)
and its result is inserted into the structure instead of the comma and
the expression.  If a comma appears followed immediately by an at-sign
(@), then the following expression shall evaluate to a list; the
opening and closing parentheses of the list are then &ldquo;stripped away&rdquo;
and the elements of the list are inserted in place of the comma at-sign
expression sequence.

     <pre class="example">          `(list ,(+ 1 2) 4)                       &rArr;  (list 3 4)
          
          (let ((name 'a)) `(list ,name ',name))   &rArr;  (list a 'a)
          
          `(a ,(+ 1 2) ,@(map abs '(4 -5 6)) b)    &rArr;  (a 3 4 5 6 b)
          
          `((foo ,(- 10 3)) ,@(cdr '(c)) . ,(car '(cons)))
                                                   &rArr;  ((foo 7) . cons)
          
          `#(10 5 ,(sqrt 4) ,@(map sqrt '(16 9)) 8)
                                                   &rArr;  #(10 5 2 4 3 8)
          
          `,(+ 2 3)                                &rArr;  5
</pre>
        <p><a name="index-nesting_002c-of-quasiquote-expressions-288"></a>Quasiquote forms may be nested.  Substitutions are made only for
unquoted components appearing at the same nesting level as the outermost
backquote.  The nesting level increases by one inside each successive
quasiquotation, and decreases by one inside each unquotation.

     <pre class="example">          `(a `(b ,(+ 1 2) ,(foo ,(+ 1 3) d) e) f)
               &rArr;  (a `(b ,(+ 1 2) ,(foo 4 d) e) f)
          
          (let ((name1 'x)
                (name2 'y))
             `(a `(b ,,name1 ,',name2 d) e))
               &rArr;  (a `(b ,x ,'y d) e)
</pre>
        <p><a name="index-backquote_002c-as-external-representation-289"></a><a name="index-g_t_0060-as-external-representation-290"></a><a name="index-comma_002c-as-external-representation-291"></a><a name="index-g_t_002c-as-external-representation-292"></a><a name="index-g_t_002c_0040_0040-as-external-representation-293"></a><a name="index-unquote-294"></a><a name="index-unquote_002dsplicing-295"></a><a name="index-g_t_0060-296"></a><a name="index-g_t_002c-297"></a><a name="index-g_t_002c_0040_0040-298"></a>The notations <code>`</code><var>template</var> and (<code>quasiquote
</code><var>template</var>) are identical in all respects. 
<code>,</code><var>expression</var> is identical to <code>(unquote
</code><var>expression</var><code>)</code> and <code>,@</code><var>expression</var> is identical to
<code>(unquote-splicing </code><var>expression</var><code>)</code>.

     <pre class="example">          (quasiquote (list (unquote (+ 1 2)) 4))
               &rArr;  (list 3 4)
          
          '(quasiquote (list (unquote (+ 1 2)) 4))
               &rArr;  `(list ,(+ 1 2) 4)
               <em>i.e.,</em> (quasiquote (list (unquote (+ 1 2)) 4))
</pre>
        <p>Unpredictable behavior can result if any of the symbols
<code>quasiquote</code>, <code>unquote</code>, or <code>unquote-splicing</code> appear in
a <var>template</var> in ways otherwise than as described above. 
</p></blockquote></div>

   </body></html>

