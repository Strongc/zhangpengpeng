<html lang="en">
<head>
<title>Static Scoping - MIT/GNU Scheme 9.0.1</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="MIT/GNU Scheme 9.0.1">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="Scheme-Concepts.html#Scheme-Concepts" title="Scheme Concepts">
<link rel="prev" href="Initial-and-Current-Environments.html#Initial-and-Current-Environments" title="Initial and Current Environments">
<link rel="next" href="True-and-False.html#True-and-False" title="True and False">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
This manual documents MIT/GNU Scheme 9.0.1.

Copyright (C) 1986, 1987, 1988, 1989, 1990, 1991, 1992, 1993,
    1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004,
    2005, 2006, 2007, 2008, 2009, 2010 Massachusetts Institute of
    Technology

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.2 or any later version published by the Free Software
     Foundation; with no Invariant Sections, with the Front-Cover Texts
     being ``A GNU Manual,'' and with the Back-Cover Texts as in (a)
     below.  A copy of the license is included in the section entitled
     ``GNU Free Documentation License.''

     (a) The FSF's Back-Cover Text is: ``You have freedom to copy and
     modify this GNU Manual, like GNU software.  Copies published by
     the Free Software Foundation raise funds for GNU development.''
   -->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<a name="Static-Scoping"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="True-and-False.html#True-and-False">True and False</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="Initial-and-Current-Environments.html#Initial-and-Current-Environments">Initial and Current Environments</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Scheme-Concepts.html#Scheme-Concepts">Scheme Concepts</a>
<hr>
</div>

<h4 class="subsection">1.2.4 Static Scoping</h4>

<p><a name="index-scoping_002c-static-90"></a><a name="index-static-scoping-91"></a>
<a name="index-dynamic-binding_002c-versus-static-scoping-92"></a>Scheme is a statically scoped language with block structure.  In this
respect, it is like Algol and Pascal, and unlike most other dialects of
Lisp except for Common Lisp.

   <p><a name="index-binding-expression-_0028defn_0029-93"></a><a name="index-expression_002c-binding-_0028defn_0029-94"></a>The fact that Scheme is statically scoped (rather than
dynamically bound) means that the environment that is extended (and
becomes current) when a procedure is called is the environment in which
the procedure was created (i.e. in which the procedure's defining
lambda expression was evaluated), not the environment in which the
procedure is called.  Because all the other Scheme <dfn>binding
expressions</dfn> can be expressed in terms of procedures, this determines
how all bindings behave.

   <p>Consider the following definitions, made at the top-level <acronym>REP</acronym>
loop (in the initial environment):

<pre class="example">     (define x 1)
     (define (f x) (g 2))
     (define (g y) (+ x y))
     (f 5)                                       &rArr;  3 <span class="roman">; not</span> 7
</pre>
   <p>Here <code>f</code> and <code>g</code> are bound to procedures created in the
initial environment.  Because Scheme is statically scoped, the call to
<code>g</code> from <code>f</code> extends the initial environment (the one in which
<code>g</code> was created) with a binding of <code>y</code> to <code>2</code>.  In this
extended environment, <code>y</code> is <code>2</code> and <code>x</code> is <code>1</code>. 
(In a dynamically bound Lisp, the call to <code>g</code> would extend the
environment in effect during the call to <code>f</code>, in which <code>x</code> is
bound to <code>5</code> by the call to <code>f</code>, and the answer would be
<code>7</code>.)

   <p><a name="index-lexical-scoping-_0028defn_0029-95"></a><a name="index-scoping_002c-lexical-_0028defn_0029-96"></a><a name="index-region_002c-of-variable-binding-_0028defn_0029-97"></a><a name="index-variable_002c-binding-region-_0028defn_0029-98"></a><a name="index-lambda-99"></a>Note that with static scoping, you can tell what binding a variable
reference refers to just from looking at the text of the program; the
referenced binding cannot depend on how the program is used.  That is,
the nesting of environments (their parent-child relationship)
corresponds to the nesting of binding expressions in program text. 
(Because of this connection to the text of the program, static scoping
is also called <dfn>lexical</dfn> scoping.)  For each place where a variable
is bound in a program there is a corresponding <dfn>region</dfn> of the
program text within which the binding is effective.  For example, the
region of a binding established by a <code>lambda</code> expression is the
entire body of the <code>lambda</code> expression.  The documentation of each
binding expression explains what the region of the bindings it makes is. 
A use of a variable (that is, a reference to or assignment of a
variable) refers to the innermost binding of that variable whose region
contains the variable use.  If there is no such region, the use refers
to the binding of the variable in the global environment (which is an
ancestor of all other environments, and can be thought of as a region in
which all your programs are contained).

   </body></html>

