<html lang="en">
<head>
<title>Output Port Operations - MIT/GNU Scheme 9.0.1</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="MIT/GNU Scheme 9.0.1">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="Port-Primitives.html#Port-Primitives" title="Port Primitives">
<link rel="prev" href="Input-Port-Operations.html#Input-Port-Operations" title="Input Port Operations">
<link rel="next" href="Blocking-Mode.html#Blocking-Mode" title="Blocking Mode">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
This manual documents MIT/GNU Scheme 9.0.1.

Copyright (C) 1986, 1987, 1988, 1989, 1990, 1991, 1992, 1993,
    1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004,
    2005, 2006, 2007, 2008, 2009, 2010 Massachusetts Institute of
    Technology

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.2 or any later version published by the Free Software
     Foundation; with no Invariant Sections, with the Front-Cover Texts
     being ``A GNU Manual,'' and with the Back-Cover Texts as in (a)
     below.  A copy of the license is included in the section entitled
     ``GNU Free Documentation License.''

     (a) The FSF's Back-Cover Text is: ``You have freedom to copy and
     modify this GNU Manual, like GNU software.  Copies published by
     the Free Software Foundation raise funds for GNU development.''
   -->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<a name="Output-Port-Operations"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="Blocking-Mode.html#Blocking-Mode">Blocking Mode</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="Input-Port-Operations.html#Input-Port-Operations">Input Port Operations</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Port-Primitives.html#Port-Primitives">Port Primitives</a>
<hr>
</div>

<h4 class="subsection">14.9.4 Output Port Operations</h4>

<p><a name="index-output-port-operations-2190"></a>
This section describes the standard operations on output ports. 
Following that, some useful custom operations are described.

<div class="defun">
&mdash; operation on output port: <b>write-char</b><var> output-port char<a name="index-write_002dchar-on-output-port-2191"></a></var><br>
<blockquote><p><a name="index-character_002c-output-to-port-2192"></a>Writes <var>char</var> to <var>output-port</var> and returns an unspecified value. 
</p></blockquote></div>

<div class="defun">
&mdash; operation on output port: <b>write-substring</b><var> output-port string start end<a name="index-write_002dsubstring-on-output-port-2193"></a></var><br>
<blockquote><p><a name="index-substring_002c-output-to-port-2194"></a>Writes the substring specified by <var>string</var>, <var>start</var>, and
<var>end</var> to <var>output-port</var> and returns an unspecified value. 
Equivalent to writing the characters of the substring, one by one, to
<var>output-port</var>, but is implemented very efficiently. 
</p></blockquote></div>

<div class="defun">
&mdash; operation on output port: <b>fresh-line</b><var> output-port<a name="index-fresh_002dline-on-output-port-2195"></a></var><br>
<blockquote><p>Most output ports are able to tell whether or not they are at the
beginning of a line of output.  If <var>output-port</var> is such a port,
end-of-line is written to the port only if the port is not already at
the beginning of a line.  If <var>output-port</var> is not such a port, an
end-of-line is unconditionally written to the port.  Returns an
unspecified value. 
</p></blockquote></div>

<div class="defun">
&mdash; operation on output port: <b>flush-output</b><var> output-port<a name="index-flush_002doutput-on-output-port-2196"></a></var><br>
<blockquote><p>If <var>output-port</var> is buffered, this causes its buffer to be written
out.  Otherwise it has no effect.  Returns an unspecified value. 
</p></blockquote></div>

<div class="defun">
&mdash; operation on output port: <b>discretionary-flush-output</b><var> output-port<a name="index-discretionary_002dflush_002doutput-on-output-port-2197"></a></var><br>
<blockquote><p>Normally, this operation does nothing.  However, ports that support
discretionary output flushing implement this operation identically to <code>flush-output</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; procedure: <b>output-port/write-char</b><var> output-port char<a name="index-output_002dport_002fwrite_002dchar-2198"></a></var><br>
&mdash; procedure: <b>output-port/write-substring</b><var> output-port string start end<a name="index-output_002dport_002fwrite_002dsubstring-2199"></a></var><br>
&mdash; procedure: <b>output-port/fresh-line</b><var> output-port<a name="index-output_002dport_002ffresh_002dline-2200"></a></var><br>
&mdash; procedure: <b>output-port/flush-output</b><var> output-port<a name="index-output_002dport_002fflush_002doutput-2201"></a></var><br>
&mdash; procedure: <b>output-port/discretionary-flush-output</b><var> output-port<a name="index-output_002dport_002fdiscretionary_002dflush_002doutput-2202"></a></var><br>
<blockquote><p>Each of these procedures invokes the respective operation on
<var>output-port</var>.  For example, the following are equivalent:

     <pre class="example">          (output-port/write-char <var>output-port</var> <var>char</var>)
          ((port/operation <var>output-port</var> 'write-char)
           <var>output-port</var> <var>char</var>)
</pre>
        </blockquote></div>

<div class="defun">
&mdash; procedure: <b>output-port/write-string</b><var> output-port string<a name="index-output_002dport_002fwrite_002dstring-2203"></a></var><br>
<blockquote><p>Writes <var>string</var> to <var>output-port</var>.  Equivalent to

     <pre class="example">          (output-port/write-substring <var>output-port</var>
                                       <var>string</var>
                                       0
                                       (string-length <var>string</var>))
</pre>
        </blockquote></div>

   <p>The following custom operations are generally useful.

<div class="defun">
&mdash; operation on output port: <b>buffered-output-chars</b><var> output-port<a name="index-buffered_002doutput_002dchars-on-output-port-2204"></a></var><br>
<blockquote><p>Returns the number of unwritten characters that are stored in
<var>output-port</var>'s buffer.  This will always be less than or equal to
the buffer's size. 
</p></blockquote></div>

<div class="defun">
&mdash; operation on output port: <b>output-buffer-size</b><var> output-port<a name="index-output_002dbuffer_002dsize-on-output-port-2205"></a></var><br>
<blockquote><p>Returns the maximum number of characters that <var>output-port</var>'s buffer
can hold. 
</p></blockquote></div>

<div class="defun">
&mdash; operation on output port: <b>set-output-buffer-size</b><var> output-port size<a name="index-set_002doutput_002dbuffer_002dsize-on-output-port-2206"></a></var><br>
<blockquote><p>Resizes <var>output-port</var>'s buffer so that it can hold at most <var>size</var>
characters.  Characters in the buffer are discarded.  <var>Size</var> must be
an exact non-negative integer. 
</p></blockquote></div>

<div class="defun">
&mdash; operation on output port: <b>x-size</b><var> output-port<a name="index-x_002dsize-on-output-port-2207"></a></var><br>
<blockquote><p>Returns an exact positive integer that is the width of <var>output-port</var>
in characters.  If <var>output-port</var> has no natural width, e.g. if it is
a file port, <code>#f</code> is returned. 
</p></blockquote></div>

<div class="defun">
&mdash; operation on output port: <b>y-size</b><var> output-port<a name="index-y_002dsize-on-output-port-2208"></a></var><br>
<blockquote><p>Returns an exact positive integer that is the height of
<var>output-port</var> in characters.  If <var>output-port</var> has no natural
height, e.g. if it is a file port, <code>#f</code> is returned. 
</p></blockquote></div>

<div class="defun">
&mdash; procedure: <b>output-port/x-size</b><var> output-port<a name="index-output_002dport_002fx_002dsize-2209"></a></var><br>
<blockquote><p>This procedure invokes the custom operation whose name is the symbol
<code>x-size</code>, if it exists.  If the <code>x-size</code> operation is both
defined and returns a value other than <code>#f</code>, that value is returned
as the result of this procedure.  Otherwise, <code>output-port/x-size</code>
returns a default value (currently <code>80</code>).

        <p><code>output-port/x-size</code> is useful for programs that tailor their
output to the width of the display (a fairly common practice).  If the
output device is not a display, such programs normally want some
reasonable default width to work with, and this procedure provides
exactly that. 
</p></blockquote></div>

<div class="defun">
&mdash; procedure: <b>output-port/y-size</b><var> output-port<a name="index-output_002dport_002fy_002dsize-2210"></a></var><br>
<blockquote><p>This procedure invokes the custom operation whose name is the symbol
<code>y-size</code>, if it exists.  If the <code>y-size</code> operation is defined,
the value it returns is returned as the result of this procedure;
otherwise, <code>#f</code> is returned. 
</p></blockquote></div>

   </body></html>

