<html lang="en">
<head>
<title>Prompting - MIT/GNU Scheme 9.0.1</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="MIT/GNU Scheme 9.0.1">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="Input_002fOutput.html#Input_002fOutput" title="Input/Output">
<link rel="prev" href="Custom-Output.html#Custom-Output" title="Custom Output">
<link rel="next" href="Port-Primitives.html#Port-Primitives" title="Port Primitives">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
This manual documents MIT/GNU Scheme 9.0.1.

Copyright (C) 1986, 1987, 1988, 1989, 1990, 1991, 1992, 1993,
    1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004,
    2005, 2006, 2007, 2008, 2009, 2010 Massachusetts Institute of
    Technology

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.2 or any later version published by the Free Software
     Foundation; with no Invariant Sections, with the Front-Cover Texts
     being ``A GNU Manual,'' and with the Back-Cover Texts as in (a)
     below.  A copy of the license is included in the section entitled
     ``GNU Free Documentation License.''

     (a) The FSF's Back-Cover Text is: ``You have freedom to copy and
     modify this GNU Manual, like GNU software.  Copies published by
     the Free Software Foundation raise funds for GNU development.''
   -->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<a name="Prompting"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="Port-Primitives.html#Port-Primitives">Port Primitives</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="Custom-Output.html#Custom-Output">Custom Output</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Input_002fOutput.html#Input_002fOutput">Input/Output</a>
<hr>
</div>

<h3 class="section">14.8 Prompting</h3>

<p><a name="index-prompting-2136"></a>
This section describes procedures that prompt the user for input.  Why
should the programmer use these procedures when it is possible to do
prompting using ordinary input and output procedures?  One reason is
that the prompting procedures are more succinct.  However, a second and
better reason is that the prompting procedures can be separately
customized for each user interface, providing more natural interaction. 
The interfaces for Edwin and for GNU Emacs have already been customized
in this fashion; because Edwin and Emacs are very similar editors, their
customizations provide very similar behavior.

   <p><a name="index-interaction_002di_002fo_002dport-2137"></a>Each of these procedure accepts an optional argument called
<var>port</var>, which if given must be an <acronym>I/O</acronym> port.  If not
given, this port defaults to the value of
<code>(interaction-i/o-port)</code>; this is initially the console
<acronym>I/O</acronym> port.

<div class="defun">
&mdash; procedure: <b>prompt-for-command-expression</b><var> prompt </var>[<var>port </var>[<var>environment</var>]]<var><a name="index-prompt_002dfor_002dcommand_002dexpression-2138"></a></var><br>
<blockquote><p>Prompts the user for an expression that is to be executed as a command. 
This is the procedure called by the <acronym>REP</acronym> loop to read the
user's expressions.

        <p>If <var>prompt</var> is a string, it is used verbatim as the prompt string. 
Otherwise, it must be a pair whose car is the symbol &lsquo;<samp><span class="samp">standard</span></samp>&rsquo; and
whose cdr is a string; in this case the prompt string is formed by
prepending to the string the current <acronym>REP</acronym> loop &ldquo;level number&rdquo;
and a space.  Also, a space is appended to the string, unless it already
ends in a space or is an empty string.

        <p>If <var>environment</var> is given, it is passed as the second argument to
<code>read</code>.

        <p>The default behavior of this procedure is to print a fresh line, a
newline, and the prompt string; flush the output buffer; then read an
object and return it.

        <p>Under Edwin and Emacs, before the object is read, the interaction buffer
is put into a mode that allows expressions to be edited and submitted
for input using specific editor commands.  The first expression that is
submitted is returned as the value of this procedure. 
</p></blockquote></div>

<div class="defun">
&mdash; procedure: <b>prompt-for-command-char</b><var> prompt </var>[<var>port</var>]<var><a name="index-prompt_002dfor_002dcommand_002dchar-2139"></a></var><br>
<blockquote><p><a name="index-char_002dgraphic_003f-2140"></a>Prompts the user for a single character that is to be executed as a
command; the returned character is guaranteed to satisfy
<code>char-graphic?</code>.  If at all possible, the character is read from
the user interface using a mode that reads the character as a single
keystroke; in other words, it should not be necessary for the user to
follow the character with a carriage return or something similar.

        <p><a name="index-debug-2141"></a><a name="index-where-2142"></a>This is the procedure called by <code>debug</code> and <code>where</code> to read
the user's commands.

        <p>If <var>prompt</var> is a string, it is used verbatim as the prompt string. 
Otherwise, it must be a pair whose car is <code>standard</code> and whose cdr
is a string; in this case the prompt string is formed by prepending to
the string the current <acronym>REP</acronym> loop &ldquo;level number&rdquo; and a space. 
Also, a space is appended to the string, unless it already ends in a
space or is an empty string.

        <p>The default behavior of this procedure is to print a fresh line, a
newline, and the prompt string; flush the output buffer; read a
character in raw mode, echo that character, and return it.

        <p>Under Edwin and Emacs, instead of reading a character, the interaction
buffer is put into a mode in which graphic characters submit themselves
as input.  After this mode change, the first such character submitted is
returned as the value of this procedure. 
</p></blockquote></div>

<div class="defun">
&mdash; procedure: <b>prompt-for-expression</b><var> prompt </var>[<var>port </var>[<var>environment</var>]]<var><a name="index-prompt_002dfor_002dexpression-2143"></a></var><br>
<blockquote><p>Prompts the user for an expression.

        <p>The prompt string is formed by appending a colon and a space to
<var>prompt</var>, unless <var>prompt</var> already ends in a space or is the null
string.

        <p>If <var>environment</var> is given, it is passed as the second argument to
<code>read</code>.

        <p>The default behavior of this procedure is to print a fresh line, a
newline, and the prompt string; flush the output buffer; then read an
object and return it.

        <p>Under Edwin and Emacs, the expression is read in the minibuffer. 
</p></blockquote></div>

<div class="defun">
&mdash; procedure: <b>prompt-for-evaluated-expression</b><var> prompt </var>[<var>environment </var>[<var>port</var>]]<var><a name="index-prompt_002dfor_002devaluated_002dexpression-2144"></a></var><br>
<blockquote><p>Prompts the user for an evaluated expression.  Calls
<code>prompt-for-expression</code> to read an expression, then evaluates the
expression using <var>environment</var>; if <var>environment</var> is not given,
the <acronym>REP</acronym> loop environment is used. 
</p></blockquote></div>

<div class="defun">
&mdash; procedure: <b>prompt-for-confirmation</b><var> prompt </var>[<var>port</var>]<var><a name="index-prompt_002dfor_002dconfirmation-2145"></a></var><br>
<blockquote><p>Prompts the user for confirmation.  The result yielded by this procedure
is a boolean.

        <p>The prompt string is formed by appending the string <code>" (y or n)? "</code>
to <var>prompt</var>, unless <var>prompt</var> already ends in a space or is the
null string.

        <p>The default behavior of this procedure is to print a fresh line, a
newline, and the prompt string; flush the output buffer; then read a
character in raw mode.  If the character is <code>#\y</code>, <code>#\Y</code>, or
<code>#\space</code>, the procedure returns <code>#t</code>; If the character is
<code>#\n</code>, <code>#\N</code>, or <code>#\rubout</code>, the procedure returns
<code>#f</code>.  Otherwise the prompt is repeated.

        <p>Under Edwin or Emacs, the confirmation is read in the minibuffer. 
</p></blockquote></div>

   </body></html>

