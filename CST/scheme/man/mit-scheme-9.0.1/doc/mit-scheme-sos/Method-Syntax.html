<html lang="en">
<head>
<title>Method Syntax - SOS 1.9</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="SOS 1.9">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="Methods.html#Methods" title="Methods">
<link rel="prev" href="Method-Datatype.html#Method-Datatype" title="Method Datatype">
<link rel="next" href="Chained-Methods.html#Chained-Methods" title="Chained Methods">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
This manual documents SOS 1.9.

Copyright (C) 1986, 1987, 1988, 1989, 1990, 1991, 1992, 1993,
    1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004,
    2005, 2006, 2007, 2008, 2009 Massachusetts Institute of Technology

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.2 or any later version published by the Free Software
     Foundation; with no Invariant Sections, with the Front-Cover Texts
     being ``A GNU Manual,'' and with the Back-Cover Texts as in (a)
     below.  A copy of the license is included in the section entitled
     ``GNU Free Documentation License.''

     (a) The FSF's Back-Cover Text is: ``You have freedom to copy and
     modify this GNU Manual, like GNU software.  Copies published by
     the Free Software Foundation raise funds for GNU development.''
   -->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<a name="Method-Syntax"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="Chained-Methods.html#Chained-Methods">Chained Methods</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="Method-Datatype.html#Method-Datatype">Method Datatype</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Methods.html#Methods">Methods</a>
<hr>
</div>

<h3 class="section">5.2 Method Syntax</h3>

<p>The following syntactic form greatly simplifies the definition of
methods, and of adding them to generic procedures.

<div class="defun">
&mdash; Syntax: <b>define-method</b><var> generic-procedure lambda-list body <small class="dots">...</small><a name="index-define_002dmethod-132"></a></var><br>
<blockquote><p>Defines a method of <var>generic-procedure</var>.  <var>Lambda-list</var> is like
the parameter list of a <code>lambda</code> special form, except that the
required parameters may have associated specializers.  A parameter with
an associated specializer is written as a list of two elements: the
first element is the parameter's name, and the second element is an
expression that evaluates to a class.

        <p><var>Lambda-list</var> must contain at least one required parameter, and at
least one required parameter must be specialized.

        <p>A <code>define-method</code> special form expands into the following:

     <pre class="lisp">          (add-method <var>generic-procedure</var>
            (make-method (list <var>specializer</var> ...)
              (lambda (call-next-method . <var>stripped-lambda-list</var>)
                <var>body</var> ...)))
</pre>
        <p class="noindent">where <var>stripped-lambda-list</var> is <var>lambda-list</var> with the
specialized parameters replaced by their names, and the
<var>specializer</var>s are the corresponding expressions from the
specialized parameters.  If necessary, the <var>specializer</var>s are
interspersed with references to <code>&lt;object&gt;</code> in order to make them
occur in the correct position in the sequence.

        <p>For example,

     <pre class="lisp">          (define-method add ((x &lt;integer&gt;) (y &lt;rational&gt;)) ...)
</pre>
        <p class="noindent">expands into

     <pre class="lisp">          (add-method add
            (make-method (list &lt;integer&gt; &lt;rational&gt;)
              (lambda (call-next-method x y) ...)))
</pre>
        <p>Note that the list of specializers passed to <code>make-method</code> will
correspond to the required parameters of the method; the specializer
corresponding to a non-specialized required parameter is
<code>&lt;object&gt;</code>.

        <p>Further note that, within the body of a <code>define-method</code> special
form, the free variable <code>call-next-method</code> is bound to a
&ldquo;call-next-method&rdquo; procedure (see <code>make-chained-method</code> for
details).  If the <code>define-method</code> body refers to this variable, the
defined method is a chained method, otherwise it is an ordinary method. 
</p></blockquote></div>

   </body></html>

