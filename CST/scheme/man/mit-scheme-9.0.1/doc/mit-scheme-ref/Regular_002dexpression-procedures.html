<html lang="en">
<head>
<title>Regular-expression procedures - MIT/GNU Scheme 9.0.1</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="MIT/GNU Scheme 9.0.1">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="Regular-Expressions.html#Regular-Expressions" title="Regular Expressions">
<link rel="prev" href="Regular-Expressions.html#Regular-Expressions" title="Regular Expressions">
<link rel="next" href="REXP-abstraction.html#REXP-abstraction" title="REXP abstraction">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
This manual documents MIT/GNU Scheme 9.0.1.

Copyright (C) 1986, 1987, 1988, 1989, 1990, 1991, 1992, 1993,
    1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004,
    2005, 2006, 2007, 2008, 2009, 2010 Massachusetts Institute of
    Technology

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.2 or any later version published by the Free Software
     Foundation; with no Invariant Sections, with the Front-Cover Texts
     being ``A GNU Manual,'' and with the Back-Cover Texts as in (a)
     below.  A copy of the license is included in the section entitled
     ``GNU Free Documentation License.''

     (a) The FSF's Back-Cover Text is: ``You have freedom to copy and
     modify this GNU Manual, like GNU software.  Copies published by
     the Free Software Foundation raise funds for GNU development.''
   -->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<a name="Regular-expression-procedures"></a>
<a name="Regular_002dexpression-procedures"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="REXP-abstraction.html#REXP-abstraction">REXP abstraction</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="Regular-Expressions.html#Regular-Expressions">Regular Expressions</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Regular-Expressions.html#Regular-Expressions">Regular Expressions</a>
<hr>
</div>

<h4 class="subsection">6.8.1 Regular-expression procedures</h4>

<p><a name="index-searching_002c-for-regular-expression-1023"></a><a name="index-regular-expression_002c-searching-string-for-1024"></a>
Procedures that perform regular-expression match and search accept
standardized arguments.  <var>Regexp</var> is the regular expression; it is a
string.  <var>String</var> is the string being matched or searched. 
Procedures that operate on substrings also accept <var>start</var> and
<var>end</var> index arguments with the usual meaning.  The optional argument
<var>case-fold?</var> says whether the match/search is case-sensitive; if
<var>case-fold?</var> is <code>#f</code>, it is case-sensitive, otherwise it is
case-insensitive.  The optional argument <var>syntax-table</var> is a
character syntax table that defines the character syntax, such as which
characters are legal word constituents.  This feature is primarily for
Edwin, so character syntax tables will not be documented here. 
Supplying <code>#f</code> for (or omitting) <var>syntax-table</var> will select the
default character syntax, equivalent to Edwin's <code>fundamental</code>
mode.

<div class="defun">
&mdash; procedure: <b>re-string-match</b><var> regexp string </var>[<var>case-fold? </var>[<var>syntax-table</var>]]<var><a name="index-re_002dstring_002dmatch-1025"></a></var><br>
&mdash; procedure: <b>re-substring-match</b><var> regexp string start end </var>[<var>case-fold? </var>[<var>syntax-table</var>]]<var><a name="index-re_002dsubstring_002dmatch-1026"></a></var><br>
<blockquote><p>These procedures match <var>regexp</var> against the respective string or
substring, returning <code>#f</code> for no match, or a set of match registers
(see below) if the match succeeds.  Here is an example showing how to
extract the matched substring:

     <pre class="example">          (let ((r (re-substring-match <var>regexp</var> <var>string</var> <var>start</var> <var>end</var>)))
            (and r
                 (substring <var>string</var> <var>start</var> (re-match-end-index 0 r))))
</pre>
        </blockquote></div>

<div class="defun">
&mdash; procedure: <b>re-string-search-forward</b><var> regexp string </var>[<var>case-fold? </var>[<var>syntax-table</var>]]<var><a name="index-re_002dstring_002dsearch_002dforward-1027"></a></var><br>
&mdash; procedure: <b>re-substring-search-forward</b><var> regexp string start end </var>[<var>case-fold? </var>[<var>syntax-table</var>]]<var><a name="index-re_002dsubstring_002dsearch_002dforward-1028"></a></var><br>
<blockquote><p>Searches <var>string</var> for the leftmost substring matching <var>regexp</var>. 
Returns a set of match registers (see below) if the search is
successful, or <code>#f</code> if it is unsuccessful.

        <p><code>re-substring-search-forward</code> limits its search to the specified
substring of <var>string</var>; <code>re-string-search-forward</code> searches all
of <var>string</var>. 
</p></blockquote></div>

<div class="defun">
&mdash; procedure: <b>re-string-search-backward</b><var> regexp string </var>[<var>case-fold? </var>[<var>syntax-table</var>]]<var><a name="index-re_002dstring_002dsearch_002dbackward-1029"></a></var><br>
&mdash; procedure: <b>re-substring-search-backward</b><var> regexp string start end </var>[<var>case-fold? </var>[<var>syntax-table</var>]]<var><a name="index-re_002dsubstring_002dsearch_002dbackward-1030"></a></var><br>
<blockquote><p>Searches <var>string</var> for the rightmost substring matching <var>regexp</var>. 
Returns a set of match registers (see below) if the search is
successful, or <code>#f</code> if it is unsuccessful.

        <p><code>re-substring-search-backward</code> limits its search to the specified
substring of <var>string</var>; <code>re-string-search-backward</code> searches all
of <var>string</var>. 
</p></blockquote></div>

   <p>When a successful match or search occurs, the above procedures return a
set of <dfn>match registers</dfn>.  The match registers are a set of index
registers that record indexes into the matched string.  Each index
register corresponds to an instance of the regular-expression grouping
operator &lsquo;<samp><span class="samp">\(</span></samp>&rsquo;, and records the start index (inclusive) and end
index (exclusive) of the matched group.  These registers are numbered
from <code>1</code> to <code>9</code>, corresponding left-to-right to the grouping
operators in the expression.  Additionally, register <code>0</code>
corresponds to the entire substring matching the regular expression.

<div class="defun">
&mdash; procedure: <b>re-match-start-index</b><var> n registers<a name="index-re_002dmatch_002dstart_002dindex-1031"></a></var><br>
&mdash; procedure: <b>re-match-end-index</b><var> n registers<a name="index-re_002dmatch_002dend_002dindex-1032"></a></var><br>
<blockquote><p><var>N</var> must be an exact integer between <code>0</code> and <code>9</code>
inclusive.  <var>Registers</var> must be a match-registers object as returned
by one of the regular-expression match or search procedures above. 
<code>re-match-start-index</code> returns the start index of the corresponding
regular-expression register, and <code>re-match-end-index</code> returns the
corresponding end index. 
</p></blockquote></div>

<div class="defun">
&mdash; procedure: <b>re-match-extract</b><var> string registers n<a name="index-re_002dmatch_002dextract-1033"></a></var><br>
<blockquote><p><var>Registers</var> must be a match-registers object as returned by one of
the regular-expression match or search procedures above.  <var>String</var>
must be the string that was passed as an argument to the procedure that
returned <var>registers</var>.  <var>N</var> must be an exact integer between
<code>0</code> and <code>9</code> inclusive.  If the matched regular expression
contained <var>m</var> grouping operators, then the value of this procedure
is undefined for <var>n</var> strictly greater than <var>m</var>.

        <p>This procedure extracts the substring corresponding to the match
register specified by <var>registers</var> and <var>n</var>.  This is equivalent
to the following expression:

     <pre class="example">          (substring <var>string</var>
                     (re-match-start-index <var>n</var> <var>registers</var>)
                     (re-match-end-index <var>n</var> <var>registers</var>))
</pre>
        </blockquote></div>

<div class="defun">
&mdash; procedure: <b>regexp-group</b><var> alternative <small class="dots">...</small><a name="index-regexp_002dgroup-1034"></a></var><br>
<blockquote><p>Each <var>alternative</var> must be a regular expression.  The returned value
is a new regular expression that consists of the <var>alternative</var>s
combined by a grouping operator.  For example:

     <pre class="example">          (regexp-group "foo" "bar" "baz")
            &rArr; "\\(foo\\|bar\\|baz\\)"
</pre>
        </blockquote></div>

   </body></html>

