<html lang="en">
<head>
<title>Application Hooks - MIT/GNU Scheme 9.0.1</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="MIT/GNU Scheme 9.0.1">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="Procedures.html#Procedures" title="Procedures">
<link rel="prev" href="Continuations.html#Continuations" title="Continuations">
<link rel="next" href="Generic-Dispatch.html#Generic-Dispatch" title="Generic Dispatch">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
This manual documents MIT/GNU Scheme 9.0.1.

Copyright (C) 1986, 1987, 1988, 1989, 1990, 1991, 1992, 1993,
    1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004,
    2005, 2006, 2007, 2008, 2009, 2010 Massachusetts Institute of
    Technology

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.2 or any later version published by the Free Software
     Foundation; with no Invariant Sections, with the Front-Cover Texts
     being ``A GNU Manual,'' and with the Back-Cover Texts as in (a)
     below.  A copy of the license is included in the section entitled
     ``GNU Free Documentation License.''

     (a) The FSF's Back-Cover Text is: ``You have freedom to copy and
     modify this GNU Manual, like GNU software.  Copies published by
     the Free Software Foundation raise funds for GNU development.''
   -->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<a name="Application-Hooks"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="Generic-Dispatch.html#Generic-Dispatch">Generic Dispatch</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="Continuations.html#Continuations">Continuations</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Procedures.html#Procedures">Procedures</a>
<hr>
</div>

<h3 class="section">12.5 Application Hooks</h3>

<p><a name="index-application-hook-_0028defn_0029-1854"></a><a name="index-procedure_002c-of-application-hook-1855"></a><a name="index-extra-object_002c-of-application-hook-1856"></a><dfn>Application hooks</dfn> are objects that can be applied like procedures. 
Each application hook has two parts: a <dfn>procedure</dfn> that specifies
what to do when the application hook is applied, and an arbitrary
object, called <dfn>extra</dfn>.  Often the procedure uses the extra object
to determine what to do.

   <p><a name="index-apply-hook-_0028defn_0029-1857"></a><a name="index-entity-_0028defn_0029-1858"></a>There are two kinds of application hooks, which differ in what arguments
are passed to the procedure.  When an <dfn>apply hook</dfn> is applied, the
procedure is passed exactly the same arguments that were passed to the
apply hook.  When an <dfn>entity</dfn> is applied, the entity itself is
passed as the first argument, followed by the other arguments that were
passed to the entity.

   <p>Both apply hooks and entities satisfy the predicate <code>procedure?</code>. 
Each satisfies either <code>compiled-procedure?</code>,
<code>compound-procedure?</code>, or <code>primitive-procedure?</code>, depending on
its procedure component.  An apply hook is considered to accept the same
number of arguments as its procedure, while an entity is considered to
accept one less argument than its procedure.

<div class="defun">
&mdash; procedure: <b>make-apply-hook</b><var> procedure object<a name="index-make_002dapply_002dhook-1859"></a></var><br>
<blockquote><p>Returns a newly allocated apply hook with a procedure component of
<var>procedure</var> and an extra component of <var>object</var>. 
</p></blockquote></div>

<div class="defun">
&mdash; procedure: <b>apply-hook?</b><var> object<a name="index-apply_002dhook_003f-1860"></a></var><br>
<blockquote><p><a name="index-type-predicate_002c-for-apply-hook-1861"></a>Returns <code>#t</code> if <var>object</var> is an apply hook; otherwise returns
<code>#f</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; procedure: <b>apply-hook-procedure</b><var> apply-hook<a name="index-apply_002dhook_002dprocedure-1862"></a></var><br>
<blockquote><p>Returns the procedure component of <var>apply-hook</var>. 
</p></blockquote></div>

<div class="defun">
&mdash; procedure: <b>set-apply-hook-procedure!</b><var> apply-hook procedure<a name="index-set_002dapply_002dhook_002dprocedure_0021-1863"></a></var><br>
<blockquote><p>Changes the procedure component of <var>apply-hook</var> to be
<var>procedure</var>.  Returns an unspecified value. 
</p></blockquote></div>

<div class="defun">
&mdash; procedure: <b>apply-hook-extra</b><var> apply-hook<a name="index-apply_002dhook_002dextra-1864"></a></var><br>
<blockquote><p>Returns the extra component of <var>apply-hook</var>. 
</p></blockquote></div>

<div class="defun">
&mdash; procedure: <b>set-apply-hook-extra!</b><var> apply-hook object<a name="index-set_002dapply_002dhook_002dextra_0021-1865"></a></var><br>
<blockquote><p>Changes the extra component of <var>apply-hook</var> to be <var>object</var>. 
Returns an unspecified value. 
</p></blockquote></div>

<div class="defun">
&mdash; procedure: <b>make-entity</b><var> procedure object<a name="index-make_002dentity-1866"></a></var><br>
<blockquote><p>Returns a newly allocated entity with a procedure component of
<var>procedure</var> and an extra component of <var>object</var>. 
</p></blockquote></div>

<div class="defun">
&mdash; procedure: <b>entity?</b><var> object<a name="index-entity_003f-1867"></a></var><br>
<blockquote><p><a name="index-type-predicate_002c-for-entity-1868"></a>Returns <code>#t</code> if <var>object</var> is an entity; otherwise returns
<code>#f</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; procedure: <b>entity-procedure</b><var> entity<a name="index-entity_002dprocedure-1869"></a></var><br>
<blockquote><p>Returns the procedure component of <var>entity</var>. 
</p></blockquote></div>

<div class="defun">
&mdash; procedure: <b>set-entity-procedure!</b><var> entity procedure<a name="index-set_002dentity_002dprocedure_0021-1870"></a></var><br>
<blockquote><p>Changes the procedure component of <var>entity</var> to be <var>procedure</var>. 
Returns an unspecified value. 
</p></blockquote></div>

<div class="defun">
&mdash; procedure: <b>entity-extra</b><var> entity<a name="index-entity_002dextra-1871"></a></var><br>
<blockquote><p>Returns the extra component of <var>entity</var>. 
</p></blockquote></div>

<div class="defun">
&mdash; procedure: <b>set-entity-extra!</b><var> entity object<a name="index-set_002dentity_002dextra_0021-1872"></a></var><br>
<blockquote><p>Changes the extra component of <var>entity</var> to be <var>object</var>.  Returns
an unspecified value. 
</p></blockquote></div>

   </body></html>

