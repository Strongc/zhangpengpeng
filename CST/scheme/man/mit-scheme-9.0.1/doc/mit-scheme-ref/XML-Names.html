<html lang="en">
<head>
<title>XML Names - MIT/GNU Scheme 9.0.1</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="MIT/GNU Scheme 9.0.1">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="XML-Support.html#XML-Support" title="XML Support">
<link rel="prev" href="XML-Output.html#XML-Output" title="XML Output">
<link rel="next" href="XML-Structure.html#XML-Structure" title="XML Structure">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
This manual documents MIT/GNU Scheme 9.0.1.

Copyright (C) 1986, 1987, 1988, 1989, 1990, 1991, 1992, 1993,
    1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004,
    2005, 2006, 2007, 2008, 2009, 2010 Massachusetts Institute of
    Technology

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.2 or any later version published by the Free Software
     Foundation; with no Invariant Sections, with the Front-Cover Texts
     being ``A GNU Manual,'' and with the Back-Cover Texts as in (a)
     below.  A copy of the license is included in the section entitled
     ``GNU Free Documentation License.''

     (a) The FSF's Back-Cover Text is: ``You have freedom to copy and
     modify this GNU Manual, like GNU software.  Copies published by
     the Free Software Foundation raise funds for GNU development.''
   -->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<a name="XML-Names"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="XML-Structure.html#XML-Structure">XML Structure</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="XML-Output.html#XML-Output">XML Output</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="XML-Support.html#XML-Support">XML Support</a>
<hr>
</div>

<h4 class="subsection">14.12.3 XML Names</h4>

<p><a name="index-XML-names-2332"></a><a name="index-names_002c-XML-2333"></a>MIT/GNU Scheme implements <acronym>XML</acronym> names in a slightly complex way. 
Unfortunately, this complexity is a direct consequence of the definition
of <acronym>XML</acronym> names rather than a mis-feature of this implementation.

   <p>The reason that <acronym>XML</acronym> names are complex is that <acronym>XML</acronym>
namespace support, which was added after <acronym>XML</acronym> was standardized,
is not very well integrated with the core <acronym>XML</acronym> definition.  The
most obvious problem is that names can't have associated namespaces when
they appear in the <acronym>DTD</acronym> of a document, even if the body of the
document uses them.  Consequently, it must be possible to compare
non-associated names with associated names.

   <p><a name="index-Uniform-Resource-Identifier-2334"></a><a name="index-URI_002c-of-XML-name-2335"></a><a name="index-qname_002c-of-XML-name-2336"></a>An <acronym>XML</acronym> name consists of two parts: the <dfn>qname</dfn>, which is a
symbol, possibly including a namespace prefix; and the
<dfn>Uniform Resource Identifier</dfn> (<acronym>URI</acronym>), which
identifies an optional namespace.

<div class="defun">
&mdash; procedure: <b>make-xml-name</b><var> qname uri<a name="index-make_002dxml_002dname-2337"></a></var><br>
<blockquote><p>Creates and returns an <acronym>XML</acronym> name.  <var>Qname</var> must be a symbol
whose name satisfies <code>string-is-xml-name?</code>.  <var>Uri</var> must satisfy
either <code>absolute-uri?</code> or <code>null-xml-namespace-uri?</code>.  The
returned value is an <acronym>XML</acronym> name that satisfies <code>xml-name?</code>.

        <p>If <var>uri</var> is the <dfn>null</dfn> namespace (satisfies
<code>null-xml-namespace-uri?</code>), the returned value is a symbol
equivalent to <var>qname</var>.  This means that an ordinary symbol can be
used as an <acronym>XML</acronym> name when there is no namespace associated with
the name.

        <p>For convenience, <var>qname</var> may be a string, in which case it is
converted to a symbol using <code>make-xml-qname</code>.

        <p>For convenience, <var>uri</var> may be any object that <code>-&gt;uri</code> is able
to convert to a <acronym>URI</acronym> record, provided the resulting
<acronym>URI</acronym> meets the above restrictions. 
</p></blockquote></div>

<div class="defun">
&mdash; procedure: <b>xml-name?</b><var> object<a name="index-xml_002dname_003f-2338"></a></var><br>
<blockquote><p>Returns <code>#t</code> if <var>object</var> is an <acronym>XML</acronym> name, and
<code>#f</code> otherwise. 
</p></blockquote></div>

<div class="defun">
&mdash; procedure: <b>xml-name-&gt;symbol</b><var> xml-name<a name="index-xml_002dname_002d_003esymbol-2339"></a></var><br>
<blockquote><p>Returns the symbol part of <var>xml-name</var>. 
</p></blockquote></div>

<div class="defun">
&mdash; procedure: <b>xml-name-uri</b><var> xml-name<a name="index-xml_002dname_002duri-2340"></a></var><br>
<blockquote><p>Returns the <dfn>URI</dfn> of <var>xml-name</var>.  The result always satisfies
<code>absolute-uri?</code> or <code>null-xml-namespace-uri?</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; procedure: <b>xml-name-string</b><var> xml-name<a name="index-xml_002dname_002dstring-2341"></a></var><br>
<blockquote><p>Returns the <dfn>qname</dfn> of <var>xml-name</var> as a string.  Equivalent to

     <pre class="example">          (symbol-name (xml-name-&gt;symbol <var>xml-name</var>))
</pre>
        </blockquote></div>

   <p><a name="index-prefix_002c-of-XML-name-2342"></a><a name="index-local-part_002c-of-XML-name-2343"></a>The next two procedures get the <dfn>prefix</dfn> and <dfn>local part</dfn> of an
<acronym>XML</acronym> name, respectively.  The prefix of an <acronym>XML</acronym> name
is the part of the qname to the left of the colon, while the local part
is the part of the qname to the right of the colon.  If there is no
colon in the qname, the local part is the entire qname, and the prefix
is the null symbol (i.e. &lsquo;<samp><span class="samp">||</span></samp>&rsquo;).

<div class="defun">
&mdash; procedure: <b>xml-name-prefix</b><var> xml-name<a name="index-xml_002dname_002dprefix-2344"></a></var><br>
<blockquote><p>Returns the <dfn>prefix</dfn> of <var>xml-name</var> as a symbol. 
</p></blockquote></div>

<div class="defun">
&mdash; procedure: <b>xml-name-local</b><var> xml-name<a name="index-xml_002dname_002dlocal-2345"></a></var><br>
<blockquote><p>Returns the <dfn>local part</dfn> of <var>xml-name</var> as a symbol. 
</p></blockquote></div>

   <p><a name="index-comparison_002c-of-XML-names-2346"></a><a name="index-equality_002c-of-XML-names-2347"></a>The next procedure compares two <acronym>XML</acronym> names for equality.  The
rules for equality are slightly complex, in order to permit comparing
names in the <acronym>DTD</acronym> with names in the document body.  So, if both
of the names have non-null namespace <acronym>URI</acronym>s, then the names are
equal if and only if their local parts are equal and their
<acronym>URI</acronym>s are equal.  (The prefixes of the names are not considered
in this case.)  Otherwise, the names are equal if and only if their
qnames are equal.

<div class="defun">
&mdash; procedure: <b>xml-name=?</b><var> xml-name-1 xml-name-2<a name="index-xml_002dname_003d_003f-2348"></a></var><br>
<blockquote><p>Returns <code>#t</code> if <var>xml-name-1</var> and <var>xml-name-2</var> are the same
name, and <code>#f</code> otherwise. 
</p></blockquote></div>

   <p>These next procedures define the data abstraction for qnames.  While
qnames are represented as symbols, only symbols whose names satisfy
<code>string-is-xml-name?</code> are qnames.

<div class="defun">
&mdash; procedure: <b>make-xml-qname</b><var> string<a name="index-make_002dxml_002dqname-2349"></a></var><br>
<blockquote><p><var>String</var> must satisfy <code>string-is-xml-name?</code>.  Returns the qname
corresponding to <var>string</var> (the symbol whose name is <var>string</var>). 
</p></blockquote></div>

<div class="defun">
&mdash; procedure: <b>xml-qname?</b><var> object<a name="index-xml_002dqname_003f-2350"></a></var><br>
<blockquote><p>Returns <code>#t</code> if <var>object</var> is a qname, otherwise returns
<code>#f</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; procedure: <b>xml-qname-prefix</b><var> qname<a name="index-xml_002dqname_002dprefix-2351"></a></var><br>
<blockquote><p>Returns the prefix of <var>qname</var> as a symbol. 
</p></blockquote></div>

<div class="defun">
&mdash; procedure: <b>xml-qname-local</b><var> qname<a name="index-xml_002dqname_002dlocal-2352"></a></var><br>
<blockquote><p>Returns the local part of <var>qname</var> as a symbol. 
</p></blockquote></div>

   <p>The prefix of a qname or <acronym>XML</acronym> name may be absent if there is no
colon in the name.  The absent, or null, prefix is abstracted by the
next two procedures.  Note that the null prefix is a symbol, just like
non-null prefixes.

<div class="defun">
&mdash; procedure: <b>null-xml-name-prefix</b><var><a name="index-null_002dxml_002dname_002dprefix-2353"></a></var><br>
<blockquote><p>Returns the null prefix. 
</p></blockquote></div>

<div class="defun">
&mdash; procedure: <b>null-xml-name-prefix?</b><var> object<a name="index-null_002dxml_002dname_002dprefix_003f-2354"></a></var><br>
<blockquote><p>Returns <code>#t</code> if <var>object</var> is the null prefix, otherwise returns
<code>#f</code>. 
</p></blockquote></div>

   <p>The namespace <acronym>URI</acronym> of an <acronym>XML</acronym> name may be null,
meaning that there is no namespace associated with the name.  This
namespace is represented by a relative <acronym>URI</acronym> record whose string
representation is the null string.

<div class="defun">
&mdash; procedure: <b>null-xml-namespace-uri</b><var><a name="index-null_002dxml_002dnamespace_002duri-2355"></a></var><br>
<blockquote><p>Returns the null namespace <acronym>URI</acronym> record. 
</p></blockquote></div>

<div class="defun">
&mdash; procedure: <b>null-xml-namespace-uri?</b><var> object<a name="index-null_002dxml_002dnamespace_002duri_003f-2356"></a></var><br>
<blockquote><p>Returns <code>#t</code> if <var>object</var> is the null namespace <acronym>URI</acronym>
record, otherwise returns <code>#f</code>. 
</p></blockquote></div>

   <p>The following values are two distinguished <acronym>URI</acronym> records.

<div class="defun">
&mdash; variable: <b>xml-uri</b><var><a name="index-xml_002duri-2357"></a></var><br>
<blockquote><p><code>xml-uri</code> is the <acronym>URI</acronym> reserved for use by the
<acronym>XML</acronym> recommendation.  This <acronym>URI</acronym> must be used with the
&lsquo;<samp><span class="samp">xml</span></samp>&rsquo; prefix. 
</p></blockquote></div>

<div class="defun">
&mdash; variable: <b>xmlns-uri</b><var><a name="index-xmlns_002duri-2358"></a></var><br>
<blockquote><p><code>xmlns-uri</code> is the <acronym>URI</acronym> reserved for use by the
<acronym>XML</acronym> namespace recommendation.  This <acronym>URI</acronym> must be used
with the &lsquo;<samp><span class="samp">xmlns</span></samp>&rsquo; prefix. 
</p></blockquote></div>

<div class="defun">
&mdash; procedure: <b>make-xml-nmtoken</b><var> string<a name="index-make_002dxml_002dnmtoken-2359"></a></var><br>
        </div>

<div class="defun">
&mdash; procedure: <b>xml-nmtoken?</b><var> object<a name="index-xml_002dnmtoken_003f-2360"></a></var><br>
        </div>

<div class="defun">
&mdash; procedure: <b>string-is-xml-name?</b><var> string<a name="index-string_002dis_002dxml_002dname_003f-2361"></a></var><br>
        </div>

<div class="defun">
&mdash; procedure: <b>string-is-xml-nmtoken?</b><var> string<a name="index-string_002dis_002dxml_002dnmtoken_003f-2362"></a></var><br>
        </div>

   </body></html>

