<html lang="en">
<head>
<title>Error Messages - MIT/GNU Scheme 9.0.1</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="MIT/GNU Scheme 9.0.1">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="Error-System.html#Error-System" title="Error System">
<link rel="prev" href="Condition-Signalling.html#Condition-Signalling" title="Condition Signalling">
<link rel="next" href="Condition-Handling.html#Condition-Handling" title="Condition Handling">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
This manual documents MIT/GNU Scheme 9.0.1.

Copyright (C) 1986, 1987, 1988, 1989, 1990, 1991, 1992, 1993,
    1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004,
    2005, 2006, 2007, 2008, 2009, 2010 Massachusetts Institute of
    Technology

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.2 or any later version published by the Free Software
     Foundation; with no Invariant Sections, with the Front-Cover Texts
     being ``A GNU Manual,'' and with the Back-Cover Texts as in (a)
     below.  A copy of the license is included in the section entitled
     ``GNU Free Documentation License.''

     (a) The FSF's Back-Cover Text is: ``You have freedom to copy and
     modify this GNU Manual, like GNU software.  Copies published by
     the Free Software Foundation raise funds for GNU development.''
   -->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<a name="Error-Messages"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="Condition-Handling.html#Condition-Handling">Condition Handling</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="Condition-Signalling.html#Condition-Signalling">Condition Signalling</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Error-System.html#Error-System">Error System</a>
<hr>
</div>

<h3 class="section">16.2 Error Messages</h3>

<p><a name="index-error-messages_002c-conventions-2794"></a><a name="index-conventions-for-error-messages-2795"></a>By convention, error messages (and in general, the reports generated by
<code>write-condition-report</code>) should consist of one or more complete
sentences.  The usual rules for sentences should be followed: the first
word of the sentence should be capitalized, and the sentence should be
terminated by a period.  The message should not contain extraneous
whitespace such as line breaks or indentation.

   <p>The error system provides a simple formatting language that allows the
programmer to have some control over the printing of error messages. 
This formatting language will probably be redesigned in a future
release.

   <p><a name="index-display-2796"></a><a name="index-write-2797"></a>Error messages typically consist of a string describing the error,
followed by some irritant objects.  The string is printed using
<code>display</code>, and the irritants are printed using <code>write</code>,
typically with a space between each irritant.  To allow simple
formatting, we introduce a <dfn>noise</dfn> object, printed using
<code>display</code>.  The irritant list may contain ordinary objects
interspersed with noise objects.  Each noise object is printed using
<code>display</code>, with no extra whitespace, while each normal object is
printed using <code>write</code>, prefixed by a single space character.

   <p>Here is an example:

<pre class="example">     (define (error-within-procedure message irritant procedure)
       (error message
              irritant
              (error-irritant/noise "within procedure")
              procedure
              (error-irritant/noise ".")))
</pre>
   <p class="noindent">This would format as follows:

<pre class="example">     (error-within-procedure "Bad widget" 'widget-32 'invert-widget) error--&gt;
     
     Bad widget widget-32 within procedure invert-widget.
</pre>
   <p>Here are the operations supporting error messages:

<div class="defun">
&mdash; procedure: <b>format-error-message</b><var> message irritants port<a name="index-format_002derror_002dmessage-2798"></a></var><br>
<blockquote><p><var>Message</var> is typically a string (although this is not required),
<var>irritants</var> a list of irritant objects, and <var>port</var> an output
port.  Formats <var>message</var> and <var>irritants</var> to <var>port</var> in the
standard way.  Note that, during the formatting process, the depth and
breadth to which lists are printed are each limited to small numbers, to
guarantee that the output from each irritant is not arbitrarily large. 
</p></blockquote></div>

<div class="defun">
&mdash; procedure: <b>error-irritant/noise</b><var> value<a name="index-error_002dirritant_002fnoise-2799"></a></var><br>
<blockquote><p>Creates and returns a noise object whose value is <var>value</var>. 
</p></blockquote></div>

   </body></html>

