<html lang="en">
<head>
<title>Custom Operations for Win32 Graphics - MIT/GNU Scheme 9.0.1</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="MIT/GNU Scheme 9.0.1">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="Win32-Graphics.html#Win32-Graphics" title="Win32 Graphics">
<link rel="prev" href="Win32-Graphics-Type.html#Win32-Graphics-Type" title="Win32 Graphics Type">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
This manual documents MIT/GNU Scheme 9.0.1.

Copyright (C) 1986, 1987, 1988, 1989, 1990, 1991, 1992, 1993,
    1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004,
    2005, 2006, 2007, 2008, 2009, 2010 Massachusetts Institute of
    Technology

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.2 or any later version published by the Free Software
     Foundation; with no Invariant Sections, with the Front-Cover Texts
     being ``A GNU Manual,'' and with the Back-Cover Texts as in (a)
     below.  A copy of the license is included in the section entitled
     ``GNU Free Documentation License.''

     (a) The FSF's Back-Cover Text is: ``You have freedom to copy and
     modify this GNU Manual, like GNU software.  Copies published by
     the Free Software Foundation raise funds for GNU development.''
   -->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<a name="Custom-Operations-for-Win32-Graphics"></a>
<p>
Previous:&nbsp;<a rel="previous" accesskey="p" href="Win32-Graphics-Type.html#Win32-Graphics-Type">Win32 Graphics Type</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Win32-Graphics.html#Win32-Graphics">Win32 Graphics</a>
<hr>
</div>

<h4 class="subsection">17.10.2 Custom Operations for Win32 Graphics</h4>

<p>Custom operations are invoked using the procedure
<code>graphics-operation</code>.  For example,

<pre class="example">     (graphics-operation device 'set-foreground-color "blue")
</pre>
   <div class="defun">
&mdash; operation on win32-graphics-device: <b>set-background-color</b><var> color-name<a name="index-set_002dbackground_002dcolor-on-win32_002dgraphics_002ddevice-3092"></a></var><br>
&mdash; operation on win32-graphics-device: <b>set-foreground-color</b><var> color-name<a name="index-set_002dforeground_002dcolor-on-win32_002dgraphics_002ddevice-3093"></a></var><br>
<blockquote><p><a name="index-set_002dbackground_002dcolor-3094"></a><a name="index-set_002dforeground_002dcolor-3095"></a><a name="index-color-3096"></a>These operations change the colors associated with a window. 
<var>Color-name</var> must be of one of the valid color specification forms
listed below.  <code>set-background-color</code> and
<code>set-foreground-color</code> change the colors to be used when drawing,
but have no effect on anything drawn prior to their invocation.  Because
changing the background color affects the entire window, we recommend
calling <code>graphics-clear</code> on the window's device afterwards.

        <p>The foreground color affects the drawing of text, points, lines,
ellipses and filled polygons.

        <p>Colors are specified in one of three ways:

          <dl>
<dt>An integer<dd>This is the Win32 internal RGB value.

          <br><dt>By name<dd>A limited number of names are understood by the system. 
Names are strings, e.g. <code>"red"</code>, <code>"blue"</code>, <code>"black"</code>. 
More names can be registered with the <code>define-color</code> operation.

          <br><dt>RGB (Red-Green-Blue) triples<dd>A triple is either a vector or list of three integers in the range
0&ndash;255 inclusive which specify the intensity of the red, green and blue
components of the color.  Thus <code>#(0 0 0)</code> is black, <code>(0 0
128)</code> is dark blue and <code>#(255 255 255)</code> is white. 
</dl>

     <p class="noindent">If the color is not available in the graphics device then the nearest
available color is used instead. 
</p></blockquote></div>

<div class="defun">
&mdash; operation on win32-graphics-device: <b>define-color</b><var> name spec<a name="index-define_002dcolor-on-win32_002dgraphics_002ddevice-3097"></a></var><br>
<blockquote><p>Define the string <var>name</var> to be the color specified by <var>spec</var>. 
<var>Spec</var> may be any acceptable color specification.  Note that the
color names defined this way are available to any Win32 graphics device,
and the names do <em>not</em> have to be defined for each device.

        <p>Color names defined by this interface may also be used when setting the
colors of the Scheme console window, or the colors of Edwin editor
windows. 
</p></blockquote></div>

<div class="defun">
&mdash; operation on win32-graphics-device: <b>find-color</b><var> name<a name="index-find_002dcolor-on-win32_002dgraphics_002ddevice-3098"></a></var><br>
<blockquote><p>Looks up a color previously defined by <code>define-color</code>.  This returns
the color in its most efficient form for operations
<code>set-foreground-color</code> or <code>set-background-color</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; operation on win32-graphics-device: <b>draw-ellipse</b><var> left top right bottom<a name="index-draw_002dellipse-on-win32_002dgraphics_002ddevice-3099"></a></var><br>
<blockquote><p><a name="index-ellipse_002c-graphics-3100"></a><a name="index-circle_002c-graphics-3101"></a><a name="index-graphics_002c-ellipse-3102"></a><a name="index-graphics_002c-circle-3103"></a>Draw an ellipse.  <var>Left</var>, <var>top</var>, <var>right</var> and <var>bottom</var>
indicate the coordinates of the bounding rectangle of the ellipse. 
Circles are merely ellipses with equal width and height.  Note that the
bounding rectangle has horizontal and vertical sides.  Ellipses with
rotated axes cannot be drawn.  The rectangle applies to the center of the
line used to draw the ellipse; if the line width has been set to greater
than 1 then the ellipse will spill outside the bounding rectange by half
of the line width. 
</p></blockquote></div>

<div class="defun">
&mdash; operation on win32-graphics-device: <b>fill-polygon</b><var> points<a name="index-fill_002dpolygon-on-win32_002dgraphics_002ddevice-3104"></a></var><br>
<blockquote><p><a name="index-fill_002dpolygon-3105"></a>Draws a filled polygon using the current foreground color. 
<var>Points</var> is a vector of real numbers. 
The numbers are in the order x1 y1 x2 y2 <small class="dots">...</small> xn yn. 
For example,

     <pre class="example">          (graphics-operation device 'fill-polygon #(0 0 0 1 1 0))
</pre>
        <p class="noindent">draws a solid triangular region between the points (0, 0), (0, 1) and
(1, 0). 
</p></blockquote></div>

<div class="defun">
&mdash; operation on win32-graphics-device: <b>load-bitmap</b><var> pathname<a name="index-load_002dbitmap-on-win32_002dgraphics_002ddevice-3106"></a></var><br>
<blockquote><p><a name="index-bitmaps-3107"></a>The graphics device contents and size are initialized from the windows
bitmap file specified by <var>pathname</var>.  If no file type is supplied
then a <code>".BMP"</code> extension is added.  If a clip rectangle is in
effect when this procedure is called, it is necessary to redefine the
clip rectangle afterwards. 
</p></blockquote></div>

<div class="defun">
&mdash; operation on win32-graphics-device: <b>save-bitmap</b><var> pathname<a name="index-save_002dbitmap-on-win32_002dgraphics_002ddevice-3108"></a></var><br>
<blockquote><p><a name="index-printing-graphics-output-3109"></a>The graphics device contents are saved as a bitmap to the file specified
by <var>pathname</var>.  If no file type is supplied then a <code>".BMP"</code>
extension is added.  The saved bitmap may be incorporated into documents
or printed. 
</p></blockquote></div>

<div class="defun">
&mdash; operation on win32-graphics-device: <b>move-window</b><var> x y<a name="index-move_002dwindow-on-win32_002dgraphics_002ddevice-3110"></a></var><br>
<blockquote><p>The graphics device window is moved to the screen position specified by
<var>x</var> and <var>y</var>. 
</p></blockquote></div>

<div class="defun">
&mdash; operation on win32-graphics-device: <b>resize-window</b><var> width height<a name="index-resize_002dwindow-on-win32_002dgraphics_002ddevice-3111"></a></var><br>
<blockquote><p>The graphics device window is resized to the specified <var>width</var> and
<var>height</var> in device coordinates (pixels).  If a clip rectangle is in effect
when this procedure is called, it is necessary to redefine the clip
rectangle afterwards. 
</p></blockquote></div>

<div class="defun">
&mdash; operation on win32-graphics-device: <b>set-line-width</b><var> width<a name="index-set_002dline_002dwidth-on-win32_002dgraphics_002ddevice-3112"></a></var><br>
<blockquote><p>This operation sets the line width for future drawing of lines, points
and ellipses.  It does not affect existing lines and has no effect on
filled polygons.  The line width is specified in device units.  The
default and initial value of this parameter is 1 pixel. 
</p></blockquote></div>

<div class="defun">
&mdash; operation on win32-graphics-device: <b>set-window-name</b><var> name<a name="index-set_002dwindow_002dname-on-win32_002dgraphics_002ddevice-3113"></a></var><br>
<blockquote><p>This sets the window title to the string <var>name</var>.  The window is
given the name <code>"Scheme Graphics"</code> at creation. 
</p></blockquote></div>

<div class="defun">
&mdash; operation on win32-graphics-device: <b>set-font</b><var> handle<a name="index-set_002dfont-on-win32_002dgraphics_002ddevice-3114"></a></var><br>
<blockquote><p>Sets the font for drawing text.  Currently not well supported.  If you
can get a Win32 font handle it can be used here. 
</p></blockquote></div>

<div class="defun">
&mdash; operation on win32-graphics-device: <b>copy-area</b><var> source-x-left source-y-top width height destination-x-left destination-y-top<a name="index-copy_002darea-on-win32_002dgraphics_002ddevice-3115"></a></var><br>
<blockquote><p>This operation copies the contents of the rectangle specified by
<var>source-x-left</var>, <var>source-y-top</var>, <var>width</var>, and <var>height</var>
to the rectangle of the same dimensions at <var>destination-x-left</var> and
<var>destination-y-top</var>. 
</p></blockquote></div>

   </body></html>

