<html lang="en">
<head>
<title>Searching Strings - MIT/GNU Scheme 9.0.1</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="MIT/GNU Scheme 9.0.1">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="Strings.html#Strings" title="Strings">
<link rel="prev" href="Cutting-and-Pasting-Strings.html#Cutting-and-Pasting-Strings" title="Cutting and Pasting Strings">
<link rel="next" href="Matching-Strings.html#Matching-Strings" title="Matching Strings">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
This manual documents MIT/GNU Scheme 9.0.1.

Copyright (C) 1986, 1987, 1988, 1989, 1990, 1991, 1992, 1993,
    1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004,
    2005, 2006, 2007, 2008, 2009, 2010 Massachusetts Institute of
    Technology

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.2 or any later version published by the Free Software
     Foundation; with no Invariant Sections, with the Front-Cover Texts
     being ``A GNU Manual,'' and with the Back-Cover Texts as in (a)
     below.  A copy of the license is included in the section entitled
     ``GNU Free Documentation License.''

     (a) The FSF's Back-Cover Text is: ``You have freedom to copy and
     modify this GNU Manual, like GNU software.  Copies published by
     the Free Software Foundation raise funds for GNU development.''
   -->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<a name="Searching-Strings"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="Matching-Strings.html#Matching-Strings">Matching Strings</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="Cutting-and-Pasting-Strings.html#Cutting-and-Pasting-Strings">Cutting and Pasting Strings</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Strings.html#Strings">Strings</a>
<hr>
</div>

<h3 class="section">6.6 Searching Strings</h3>

<p><a name="index-searching_002c-of-string-982"></a><a name="index-character_002c-searching-string-for-983"></a><a name="index-substring_002c-searching-string-for-984"></a>
The first few procedures in this section perform <dfn>string search</dfn>, in
which a given string (the <dfn>text</dfn>) is searched to see if it contains
another given string (the <dfn>pattern</dfn>) as a proper substring.  At
present these procedures are implemented using a hybrid strategy.  For
short patterns of less than 4 characters, the naive string-search
algorithm is used.  For longer patterns, the Boyer-Moore string-search
algorithm is used.

<div class="defun">
&mdash; procedure: <b>string-search-forward</b><var> pattern string<a name="index-string_002dsearch_002dforward-985"></a></var><br>
&mdash; procedure: <b>substring-search-forward</b><var> pattern string start end<a name="index-substring_002dsearch_002dforward-986"></a></var><br>
<blockquote><p><var>Pattern</var> must be a string.  Searches <var>string</var> for the leftmost
occurrence of the substring <var>pattern</var>.  If successful, the index of
the first character of the matched substring is returned; otherwise,
<code>#f</code> is returned.

        <p><code>substring-search-forward</code> limits its search to the specified
substring of <var>string</var>; <code>string-search-forward</code> searches all of
<var>string</var>.

     <pre class="example">          (string-search-forward "rat" "pirate")
              &rArr; 2
          (string-search-forward "rat" "pirate rating")
              &rArr; 2
          (substring-search-forward "rat" "pirate rating" 4 13)
              &rArr; 7
          (substring-search-forward "rat" "pirate rating" 9 13)
              &rArr; #f
</pre>
        </blockquote></div>

<div class="defun">
&mdash; procedure: <b>string-search-backward</b><var> pattern string<a name="index-string_002dsearch_002dbackward-987"></a></var><br>
&mdash; procedure: <b>substring-search-backward</b><var> pattern string start end<a name="index-substring_002dsearch_002dbackward-988"></a></var><br>
<blockquote><p><var>Pattern</var> must be a string.  Searches <var>string</var> for the rightmost
occurrence of the substring <var>pattern</var>.  If successful, the index to
the right of the last character of the matched substring is returned;
otherwise, <code>#f</code> is returned.

        <p><code>substring-search-backward</code> limits its search to the specified
substring of <var>string</var>; <code>string-search-backward</code> searches all of
<var>string</var>.

     <pre class="example">          (string-search-backward "rat" "pirate")
              &rArr; 5
          (string-search-backward "rat" "pirate rating")
              &rArr; 10
          (substring-search-backward "rat" "pirate rating" 1 8)
              &rArr; 5
          (substring-search-backward "rat" "pirate rating" 9 13)
              &rArr; #f
</pre>
        </blockquote></div>

<div class="defun">
&mdash; procedure: <b>string-search-all</b><var> pattern string<a name="index-string_002dsearch_002dall-989"></a></var><br>
&mdash; procedure: <b>substring-search-all</b><var> pattern string start end<a name="index-substring_002dsearch_002dall-990"></a></var><br>
<blockquote><p><var>Pattern</var> must be a string.  Searches <var>string</var> to find all
occurrences of the substring <var>pattern</var>.  Returns a list of the
occurrences; each element of the list is an index pointing to the first
character of an occurrence.

        <p><code>substring-search-all</code> limits its search to the specified substring
of <var>string</var>; <code>string-search-all</code> searches all of <var>string</var>.

     <pre class="example">          (string-search-all "rat" "pirate")
              &rArr; (2)
          (string-search-all "rat" "pirate rating")
              &rArr; (2 7)
          (substring-search-all "rat" "pirate rating" 4 13)
              &rArr; (7)
          (substring-search-all "rat" "pirate rating" 9 13)
              &rArr; ()
</pre>
        </blockquote></div>

<div class="defun">
&mdash; procedure: <b>substring?</b><var> pattern string<a name="index-substring_003f-991"></a></var><br>
<blockquote><p><var>Pattern</var> must be a string.  Searches <var>string</var> to see if it
contains the substring <var>pattern</var>.  Returns <code>#t</code> if
<var>pattern</var> is a substring of <var>string</var>, otherwise returns
<code>#f</code>.

     <pre class="example">          (substring? "rat" "pirate")             &rArr;  #t
          (substring? "rat" "outrage")            &rArr;  #f
          (substring? "" any-string)              &rArr;  #t
          (if (substring? "moon" text)
              (process-lunar text)
              'no-moon)
</pre>
        </blockquote></div>

<div class="defun">
&mdash; procedure: <b>string-find-next-char</b><var> string char<a name="index-string_002dfind_002dnext_002dchar-992"></a></var><br>
&mdash; procedure: <b>substring-find-next-char</b><var> string start end char<a name="index-substring_002dfind_002dnext_002dchar-993"></a></var><br>
&mdash; procedure: <b>string-find-next-char-ci</b><var> string char<a name="index-string_002dfind_002dnext_002dchar_002dci-994"></a></var><br>
&mdash; procedure: <b>substring-find-next-char-ci</b><var> string start end char<a name="index-substring_002dfind_002dnext_002dchar_002dci-995"></a></var><br>
<blockquote><p>Returns the index of the first occurrence of <var>char</var> in the string
(substring); returns <code>#f</code> if <var>char</var> does not appear in the
string.  For the substring procedures, the index returned is relative to
the entire string, not just the substring.  The <code>-ci</code> procedures
don't distinguish uppercase and lowercase letters.

     <pre class="example">          (string-find-next-char "Adam" #\A)              &rArr;  0
          (substring-find-next-char "Adam" 1 4 #\A)       &rArr;  #f
          (substring-find-next-char-ci "Adam" 1 4 #\A)    &rArr;  2
</pre>
        </blockquote></div>

<div class="defun">
&mdash; procedure: <b>string-find-next-char-in-set</b><var> string char-set<a name="index-string_002dfind_002dnext_002dchar_002din_002dset-996"></a></var><br>
&mdash; procedure: <b>substring-find-next-char-in-set</b><var> string start end char-set<a name="index-substring_002dfind_002dnext_002dchar_002din_002dset-997"></a></var><br>
<blockquote><p>Returns the index of the first character in the string (or substring)
that is also in <var>char-set</var>, or returns <code>#f</code> if none of the
characters in <var>char-set</var> occur in <var>string</var>. 
For the substring procedure, only the substring is searched, but the
index returned is relative to the entire string, not just the substring.

     <pre class="example">          (string-find-next-char-in-set my-string char-set:alphabetic)
              &rArr;  <span class="roman">start position of the first word in</span> my-string
          <span class="roman">; Can be used as a predicate:</span>
          (if (string-find-next-char-in-set my-string
                                            (char-set #\( #\) ))
              'contains-parentheses
              'no-parentheses)
</pre>
        </blockquote></div>

<div class="defun">
&mdash; procedure: <b>string-find-previous-char</b><var> string char<a name="index-string_002dfind_002dprevious_002dchar-998"></a></var><br>
&mdash; procedure: <b>substring-find-previous-char</b><var> string start end char<a name="index-substring_002dfind_002dprevious_002dchar-999"></a></var><br>
&mdash; procedure: <b>string-find-previous-char-ci</b><var> string char<a name="index-string_002dfind_002dprevious_002dchar_002dci-1000"></a></var><br>
&mdash; procedure: <b>substring-find-previous-char-ci</b><var> string start end char<a name="index-substring_002dfind_002dprevious_002dchar_002dci-1001"></a></var><br>
<blockquote><p>Returns the index of the last occurrence of <var>char</var> in the string
(substring); returns <code>#f</code> if <var>char</var> doesn't appear in the
string.  For the substring procedures, the index returned is relative to
the entire string, not just the substring.  The <code>-ci</code> procedures
don't distinguish uppercase and lowercase letters. 
</p></blockquote></div>

<div class="defun">
&mdash; procedure: <b>string-find-previous-char-in-set</b><var> string char-set<a name="index-string_002dfind_002dprevious_002dchar_002din_002dset-1002"></a></var><br>
&mdash; procedure: <b>substring-find-previous-char-in-set</b><var> string start end char-set<a name="index-substring_002dfind_002dprevious_002dchar_002din_002dset-1003"></a></var><br>
<blockquote><p>Returns the index of the last character in the string (substring) that
is also in <var>char-set</var>.  For the substring procedure, the index
returned is relative to the entire string, not just the substring. 
</p></blockquote></div>

   </body></html>

