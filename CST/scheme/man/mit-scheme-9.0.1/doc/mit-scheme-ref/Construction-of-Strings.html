<html lang="en">
<head>
<title>Construction of Strings - MIT/GNU Scheme 9.0.1</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="MIT/GNU Scheme 9.0.1">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="Strings.html#Strings" title="Strings">
<link rel="prev" href="Strings.html#Strings" title="Strings">
<link rel="next" href="Selecting-String-Components.html#Selecting-String-Components" title="Selecting String Components">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
This manual documents MIT/GNU Scheme 9.0.1.

Copyright (C) 1986, 1987, 1988, 1989, 1990, 1991, 1992, 1993,
    1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004,
    2005, 2006, 2007, 2008, 2009, 2010 Massachusetts Institute of
    Technology

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.2 or any later version published by the Free Software
     Foundation; with no Invariant Sections, with the Front-Cover Texts
     being ``A GNU Manual,'' and with the Back-Cover Texts as in (a)
     below.  A copy of the license is included in the section entitled
     ``GNU Free Documentation License.''

     (a) The FSF's Back-Cover Text is: ``You have freedom to copy and
     modify this GNU Manual, like GNU software.  Copies published by
     the Free Software Foundation raise funds for GNU development.''
   -->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<a name="Construction-of-Strings"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="Selecting-String-Components.html#Selecting-String-Components">Selecting String Components</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="Strings.html#Strings">Strings</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Strings.html#Strings">Strings</a>
<hr>
</div>

<h3 class="section">6.1 Construction of Strings</h3>

<p><a name="index-construction_002c-of-string-904"></a>

<div class="defun">
&mdash; procedure: <b>make-string</b><var> k </var>[<var>char</var>]<var><a name="index-make_002dstring-905"></a></var><br>
<blockquote><p>Returns a newly allocated string of length <var>k</var>.  If you specify
<var>char</var>, all elements of the string are initialized to <var>char</var>,
otherwise the contents of the string are unspecified.  <var>Char</var> must
satisfy the predicate <code>char-ascii?</code>.

     <pre class="example">          (make-string 10 #\x)              &rArr;  "xxxxxxxxxx"
</pre>
        </blockquote></div>

<div class="defun">
&mdash; procedure: <b>string</b><var> char <small class="dots">...</small><a name="index-string-906"></a></var><br>
<blockquote><p>Returns a newly allocated string consisting of the specified characters. 
The arguments must all satisfy <code>char-ascii?</code>.

     <pre class="example">          (string #\a)                                &rArr;  "a"
          (string #\a #\b #\c)                        &rArr;  "abc"
          (string #\a #\space #\b #\space #\c)        &rArr;  "a b c"
          (string)                                    &rArr;  ""
</pre>
        </blockquote></div>

<div class="defun">
&mdash; procedure: <b>list-&gt;string</b><var> char-list<a name="index-list_002d_003estring-907"></a></var><br>
<blockquote><p><a name="index-list_002c-converting-to-string-908"></a><a name="index-string_002d_003elist-909"></a><var>Char-list</var> must be a list of <acronym>ISO-8859-1</acronym> characters. 
<code>list-&gt;string</code> returns a newly allocated string formed from the
elements of <var>char-list</var>.  This is equivalent to <code>(apply string
</code><var>char-list</var><code>)</code>.  The inverse of this operation is
<code>string-&gt;list</code>.

     <pre class="example">          (list-&gt;string '(#\a #\b))           &rArr;  "ab"
          (string-&gt;list "Hello")              &rArr;  (#\H #\e #\l #\l #\o)
</pre>
        </blockquote></div>

<div class="defun">
&mdash; procedure: <b>string-copy</b><var> string<a name="index-string_002dcopy-910"></a></var><br>
<blockquote><p><a name="index-copying_002c-of-string-911"></a>Returns a newly allocated copy of <var>string</var>.

        <p>Note regarding variable-length strings: the maximum length of the result
depends only on the length of <var>string</var>, not its maximum length.  If
you wish to copy a string and preserve its maximum length, do the
following:

     <pre class="example">          (define (string-copy-preserving-max-length string)
            (let ((length))
              (dynamic-wind
               (lambda ()
                 (set! length (string-length string))
                 (set-string-length! string
                                     (string-maximum-length string)))
               (lambda ()
                 (string-copy string))
               (lambda ()
                 (set-string-length! string length)))))
</pre>
        </blockquote></div>

   </body></html>

