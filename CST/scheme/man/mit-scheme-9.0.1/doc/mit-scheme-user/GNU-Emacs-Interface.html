<html lang="en">
<head>
<title>GNU Emacs Interface - MIT/GNU Scheme 9.0</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="MIT/GNU Scheme 9.0">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="prev" href="Debugging.html#Debugging" title="Debugging">
<link rel="next" href="Edwin.html#Edwin" title="Edwin">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
This manual documents the use of MIT/GNU Scheme 9.0.

Copyright (C) 1986, 1987, 1988, 1989, 1990, 1991, 1992, 1993,
    1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004,
    2005, 2006, 2007, 2008, 2009, 2010 Massachusetts Institute of
    Technology

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.2 or any later version published by the Free Software
     Foundation; with no Invariant Sections, with the Front-Cover Texts
     being ``A GNU Manual,'' and with the Back-Cover Texts as in (a)
     below.  A copy of the license is included in the section entitled
     ``GNU Free Documentation License.''

     (a) The FSF's Back-Cover Text is: ``You have freedom to copy and
     modify this GNU Manual, like GNU software.  Copies published by
     the Free Software Foundation raise funds for GNU development.''
   -->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<a name="GNU-Emacs-Interface"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="Edwin.html#Edwin">Edwin</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="Debugging.html#Debugging">Debugging</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="index.html#Top">Top</a>
<hr>
</div>

<h2 class="chapter">6 GNU Emacs Interface</h2>

<p>There is an interface library, called <samp><span class="file">xscheme</span></samp>, distributed with
MIT/GNU Scheme and GNU Emacs, which facilitates running Scheme as a
subprocess of Emacs.  If you are using a recent version of GNU Emacs,
say version 22 or later, use the <samp><span class="file">xscheme</span></samp> file that comes with
it.  Otherwise use the one that is in the Scheme distribution.

   <p>This interface works under unix only, because it requires unix signals
for its operation.  Porting it to Windows would require reimplementing
the interface to eliminate the use of signals.  We have no plans to do
this.

   <p><a name="index-run_002dscheme-245"></a><a name="index-g_t_002d_002demacs-246"></a>To invoke Scheme from Emacs, load the <samp><span class="file">xscheme</span></samp> library, then use
<kbd>M-x run-scheme</kbd>.  You may give <code>run-scheme</code> a prefix argument,
in which case it will allow you to edit the command line that is used to
invoke Scheme.  <em>Do not</em> remove the <samp><span class="option">--emacs</span></samp> option!

   <p><em>Note carefully:</em> In Emacs 19 and later, the <code>run-scheme</code>
command exists, but is different from the one described here!  In order
to get this interface, you must load the <samp><span class="file">xscheme</span></samp> library before
executing <code>run-scheme</code>.

   <p><a name="index-scheme_002dinteraction_002dmode-247"></a>Scheme will be started up as a subprocess in a buffer called
&lsquo;<samp><span class="samp">*scheme*</span></samp>&rsquo;.  This buffer will be in <code>scheme-interaction-mode</code>
and all output from the Scheme process will go there.  The mode line for
the &lsquo;<samp><span class="samp">*scheme*</span></samp>&rsquo; buffer will have this form:

<pre class="example">     --**-*scheme*: 1 [Evaluator]           (Scheme Interaction: input)------
</pre>
   <p class="noindent"><a name="index-level-number_002c-REPL-248"></a>The first field, showing &lsquo;<samp><span class="samp">1</span></samp>&rsquo; in this example, is the level number.

<p class="noindent">The second field, showing &lsquo;<samp><span class="samp">[Evaluator]</span></samp>&rsquo; in this example, describes
the type of <acronym>REPL</acronym> that is running.  Other values include:

<pre class="example">     [Debugger]
     [Where]
</pre>
   <p class="noindent">The <dfn>mode</dfn> after &lsquo;<samp><span class="samp">Scheme Interaction</span></samp>&rsquo; is one of:

     <dl>
<dt>&lsquo;<samp><span class="samp">input</span></samp>&rsquo;<dd>Scheme is waiting for input.

     <br><dt>&lsquo;<samp><span class="samp">run</span></samp>&rsquo;<dd>Scheme is running an evaluation.

     <br><dt>&lsquo;<samp><span class="samp">gc</span></samp>&rsquo;<dd>Scheme is garbage collecting. 
</dl>

   <p><a name="index-scheme_002dmode-249"></a>When <samp><span class="file">xscheme</span></samp> is loaded, <code>scheme-mode</code> is extended to include
commands for evaluating expressions (do <kbd>C-h m</kbd> in any
<code>scheme-mode</code> buffer for the most up-to-date information):

     <dl>
<dt><kbd>M-o</kbd><dd><a name="index-M_002do-250"></a><a name="index-xscheme_002dsend_002dbuffer-251"></a>Evaluates the current buffer (<code>xscheme-send-buffer</code>).

     <br><dt><kbd>M-z</kbd><dd><a name="index-M_002dz-252"></a><a name="index-xscheme_002dsend_002ddefinition-253"></a>Evaluates the current definition (<code>xscheme-send-definition</code>).  This
is also bound to <kbd>C-M-x</kbd>.

     <br><dt><kbd>C-M-z</kbd><dd><a name="index-C_002dM_002dz-254"></a><a name="index-xscheme_002dsend_002dregion-255"></a>Evaluates the current region (<code>xscheme-send-region</code>).

     <br><dt><kbd>C-x C-e</kbd><dd><a name="index-C_002dx-C_002de-256"></a><a name="index-xscheme_002dsend_002dprevious_002dexpression-257"></a>Evaluates the expression to the left of point
(<code>xscheme-send-previous-expression</code>).  This is also bound to
<kbd>M-&lt;RET&gt;</kbd>.

     <br><dt><kbd>C-c C-s</kbd><dd><a name="index-C_002dc-C_002ds-258"></a><a name="index-xscheme_002dselect_002dprocess_002dbuffer-259"></a>Selects the &lsquo;<samp><span class="samp">*scheme*</span></samp>&rsquo; buffer and places you at its end
(<code>xscheme-select-process-buffer</code>).

     <br><dt><kbd>C-c C-y</kbd><dd><a name="index-C_002dc-C_002dy-260"></a><a name="index-xscheme_002dyank_002dprevious_002dsend-261"></a>Yanks the most recently evaluated expression, placing it at point
(<code>xscheme-yank-previous-send</code>).  This works only in the
&lsquo;<samp><span class="samp">*scheme*</span></samp>&rsquo; buffer. 
</dl>

   <p>The following commands provide interrupt capability:

     <dl>
<dt><kbd>C-c C-c</kbd><dd><a name="index-C_002dc-C_002dc-262"></a><a name="index-xscheme_002dsend_002dcontrol_002dg_002dinterrupt-263"></a>Like typing <kbd>C-g</kbd> when running Scheme without Emacs. 
(<code>xscheme-send-control-g-interrupt</code>)

     <br><dt><kbd>C-c C-x</kbd><dd><a name="index-C_002dc-C_002dx-264"></a><a name="index-xscheme_002dsend_002dcontrol_002dx_002dinterrupt-265"></a>Like typing <kbd>C-c C-x</kbd> when running Scheme without Emacs. 
(<code>xscheme-send-control-x-interrupt</code>)

     <br><dt><kbd>C-c C-u</kbd><dd><a name="index-C_002dc-C_002du-266"></a><a name="index-xscheme_002dsend_002dcontrol_002du_002dinterrupt-267"></a>Like typing <kbd>C-c C-u</kbd> when running Scheme without Emacs. 
(<code>xscheme-send-control-u-interrupt</code>)

     <br><dt><kbd>C-c C-b</kbd><dd><a name="index-C_002dc-C_002db-268"></a><a name="index-xscheme_002dsend_002dbreakpoint_002dinterrupt-269"></a>Like typing <kbd>C-c C-b</kbd> when running Scheme without Emacs. 
(<code>xscheme-send-breakpoint-interrupt</code>)

     <br><dt><kbd>C-c C-p</kbd><dd><a name="index-C_002dc-C_002dp-270"></a><a name="index-xscheme_002dsend_002dproceed-271"></a>Like evaluating &lsquo;<samp><span class="samp">(continue)</span></samp>&rsquo;.  (<code>xscheme-send-proceed</code>)
</dl>

   </body></html>

