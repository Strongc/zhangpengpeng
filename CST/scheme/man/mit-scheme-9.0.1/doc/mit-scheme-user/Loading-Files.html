<html lang="en">
<head>
<title>Loading Files - MIT/GNU Scheme 9.0</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="MIT/GNU Scheme 9.0">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="Using-Scheme.html#Using-Scheme" title="Using Scheme">
<link rel="prev" href="REPL.html#REPL" title="REPL">
<link rel="next" href="World-Images.html#World-Images" title="World Images">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
This manual documents the use of MIT/GNU Scheme 9.0.

Copyright (C) 1986, 1987, 1988, 1989, 1990, 1991, 1992, 1993,
    1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004,
    2005, 2006, 2007, 2008, 2009, 2010 Massachusetts Institute of
    Technology

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.2 or any later version published by the Free Software
     Foundation; with no Invariant Sections, with the Front-Cover Texts
     being ``A GNU Manual,'' and with the Back-Cover Texts as in (a)
     below.  A copy of the license is included in the section entitled
     ``GNU Free Documentation License.''

     (a) The FSF's Back-Cover Text is: ``You have freedom to copy and
     modify this GNU Manual, like GNU software.  Copies published by
     the Free Software Foundation raise funds for GNU development.''
   -->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<a name="Loading-Files"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="World-Images.html#World-Images">World Images</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="REPL.html#REPL">REPL</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Using-Scheme.html#Using-Scheme">Using Scheme</a>
<hr>
</div>

<h3 class="section">3.2 Loading Files</h3>

<p>To load files of Scheme code, use the procedure <code>load</code>:

<div class="defun">
&mdash; procedure: <b>load</b><var> filename </var>[<var>environment </var>[<var>syntax-table </var>[<var>purify?</var>]]]<var><a name="index-load-118"></a></var><br>
<blockquote><p><var>Filename</var> may be a string naming a file, or a list of strings
naming multiple files.  <var>Environment</var>, if given, is the environment
to evaluate the file in; if not given the current <acronym>REPL</acronym>
environment is used.

        <p><var>Syntax-table</var> is no longer used and if supplied will be ignored.

        <p><a name="index-purify-119"></a>The optional argument <var>purify?</var> is a boolean that says whether to
move the contents of the file into constant space after it is loaded but
before it is evaluated.  This is performed by calling the procedure
<code>purify</code> (see <a href="Garbage-Collection.html#Garbage-Collection">Garbage Collection</a>).  If <var>purify?</var> is given
and true, this is done; otherwise it is not.

        <p><a name="index-pathname_002dtype-120"></a><code>load</code> determines whether the file to be loaded is binary or source
code, and performs the appropriate action.  By convention, files of
source code have a pathname type of <code>"scm"</code>, and files of binary
SCode have pathname type <code>"bin"</code>.  Native-code binaries have
pathname type <code>"com"</code>.  (See the description of
<code>pathname-type</code> in <a href="../scheme/Components-of-Pathnames.html#Components-of-Pathnames">Pathname Type</a>.) 
</p></blockquote></div>

<div class="defun">
&mdash; variable: <b>load-noisily?</b><var><a name="index-load_002dnoisily_003f-121"></a></var><br>
<blockquote><p>If <code>load-noisily?</code> is set to <code>#t</code>, <code>load</code> will print the
value of each expression in the file as it is evaluated.  Otherwise,
nothing is printed except for the value of the last expression in the
file.  (Note: the noisy loading feature is implemented for source-code
files only.) 
</p></blockquote></div>

   <p><a name="index-working-directory-122"></a><a name="index-pwd-123"></a><a name="index-cd-124"></a>All pathnames are interpreted relative to a working directory, which is
initialized when Scheme is started.  The working directory can be
obtained by calling the procedure <code>pwd</code> or modified by calling the
procedure <code>cd</code>; see <a href="../scheme/Working-Directory.html#Working-Directory">Working Directory</a>.  Files may be loaded when Scheme first starts;
see the <samp><span class="option">--load</span></samp> command-line option for details.

<div class="defun">
&mdash; procedure: <b>load-option</b><var> symbol </var>[<var>no-error?</var>]<var><a name="index-load_002doption-125"></a></var><br>
<blockquote><p>Loads the option specified by <var>symbol</var>; if already loaded, does
nothing.  Returns <var>symbol</var>; if there is no such option, an error is
signalled.  However, if <var>no-error?</var> is specified and true, no error
is signalled in this case, and <code>#f</code> is returned.

        <p>A number of built-in options are defined:

          <dl>
<dt><code>compress</code><dd>Support to compress and uncompress files.  Undocumented; see the source
file <samp><span class="file">runtime/cpress.scm</span></samp>.  Used by the runtime system for
compression of compiled-code debugging information.

          <br><dt><code>format</code><dd>The <code>format</code> procedure.  See <a href="../scheme/Format.html#Format">Format</a>.

          <br><dt><code>gdbm</code><dd>Support to access <code>gdbm</code> databases.  Undocumented; see the source
files <samp><span class="file">runtime/gdbm.scm</span></samp> and <samp><span class="file">microcode/prgdbm.c</span></samp>.

          <br><dt><code>ordered-vector</code><dd>Support to search and do completion on vectors of ordered elements. 
Undocumented; see the source file <samp><span class="file">runtime/ordvec.scm</span></samp>.

          <br><dt><code>rb-tree</code><dd>The red-black tree data type.  See <a href="../scheme/Red_002dBlack-Trees.html#Red_002dBlack-Trees">Red-Black Trees</a>.

          <br><dt><code>regular-expression</code><dd>Support to search and match strings for regular expressions. 
See <a href="../scheme/Regular-Expressions.html#Regular-Expressions">Regular Expressions</a>.

          <br><dt><code>stepper</code><dd>Support to step through the evaluation of Scheme expressions. 
Undocumented; see the source file <samp><span class="file">runtime/ystep.scm</span></samp>.  Used by the
Edwin command <kbd>step-expression</kbd>.

          <br><dt><code>subprocess</code><dd>Support to run other programs as subprocesses of the Scheme process. 
Undocumented; see the source file <samp><span class="file">runtime/process.scm</span></samp>.  Used
extensively by Edwin.

          <br><dt><code>synchronous-subprocess</code><dd>Support to run synchronous subprocesses.  See <a href="../scheme/Subprocesses.html#Subprocesses">Subprocesses</a>.

          <br><dt><code>wt-tree</code><dd>The weight-balanced tree data type.  See <a href="../scheme/Weight_002dBalanced-Trees.html#Weight_002dBalanced-Trees">Weight-Balanced Trees</a>. 
</dl>
        </p></blockquote></div>

   <p>In addition to the built-in options, you may define other options to be
loaded by <code>load-options</code> by modifying the file <samp><span class="file">optiondb.scm</span></samp>
on the library path.  An example file is included with the distribution;
normally this file consists of a series of calls to the procedure
<code>define-load-option</code>, terminated by the expression

<pre class="example">     (further-load-options standard-load-options)
</pre>
   <div class="defun">
&mdash; procedure: <b>define-load-option</b><var> symbol thunk <small class="dots">...</small><a name="index-define_002dload_002doption-126"></a></var><br>
<blockquote><p>Each <var>thunk</var> must be a procedure of no arguments.  Defines the load
option named <var>symbol</var>.  When the procedure <code>load-option</code> is
called with <var>symbol</var> as an argument, the <var>thunk</var> arguments are
executed in order from left to right. 
</p></blockquote></div>

   </body></html>

